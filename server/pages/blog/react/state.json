{"pageProps":{"data":{"date":"April 28, 2021","title":"React State","tags":["react","javascript"],"description":"å¦‚ä½•åœ¨ React.js ä¸­å¤„ç†çŠ¶æ€","fromNow":"8 months ago"},"content":{"compiledSource":"var c=Object.defineProperty,C=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var d=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&d(e,n,t[n]);if(i)for(var n of i(t))l.call(t,n)&&d(e,n,t[n]);return e},r=(e,t)=>C(e,m(t));var s=(e,t)=>{var n={};for(var a in e)p.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&i)for(var a of i(e))t.indexOf(a)<0&&l.call(e,a)&&(n[a]=e[a]);return n};const makeShortcode=e=>function(n){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",o({},n))},CodeSandbox=makeShortcode(\"CodeSandbox\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var a=n,{components:e}=a,t=s(a,[\"components\"]);return mdx(MDXLayout,r(o(o({},layoutProps),t),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"state\"),\"\\u662F\",mdx(\"inlineCode\",{parentName:\"p\"},\"React\"),\"\\u7EC4\\u4EF6\\u4E2D\\u7684\\u5185\\u7F6E\\u5BF9\\u8C61\"),mdx(\"p\",null,\"\\u5728\",mdx(\"inlineCode\",{parentName:\"p\"},\"state\"),\"\\u5BF9\\u8C61\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5B58\\u50A8\\u5C5E\\u4E8E\\u7EC4\\u4EF6\\u7684\\u5C5E\\u6027\\u503C\\u3002\\u5F53\\u72B6\\u6001\\u5BF9\\u8C61\\u66F4\\u6539\\u65F6\\uFF0C\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\\u4F7F\\u7528\",mdx(\"inlineCode\",{parentName:\"p\"},\"setState()\"),\"\\u51FD\\u6570\\u4FEE\\u6539\",mdx(\"inlineCode\",{parentName:\"p\"},\"state\"),\"\\u5BF9\\u8C61\\u3002\",mdx(\"inlineCode\",{parentName:\"p\"},\"state\"),\"\\u548C\",mdx(\"inlineCode\",{parentName:\"p\"},\"props\"),\"\\u7C7B\\u4F3C\\uFF0C\\u533A\\u522B\\u5728\\u4E8E\",mdx(\"inlineCode\",{parentName:\"p\"},\"props\"),\"\\u88AB\\u4F20\\u9012\\u7ED9\\u7EC4\\u4EF6\\uFF0C\\u800C\",mdx(\"inlineCode\",{parentName:\"p\"},\"state\"),\"\\u5728\\u7EC4\\u4EF6\\u4E2D\\u8FDB\\u884C\\u7BA1\\u7406\\u3002\\u5F00\\u53D1\\u4EBA\\u5458\\u5E94\\u8BE5\\u59CB\\u7EC8\\u5C1D\\u8BD5\\u4F7F\\u72B6\\u6001\\u6700\\u5C0F\\u5316\\u3002\\u6B64\\u5916\\uFF0C\\u6709\\u72B6\\u6001\\u7EC4\\u4EF6\\u7684\\u6570\\u91CF\\u5E94\\u8BE5\\u6700\\u5C0F\\u5316\\u3002\"),mdx(\"h2\",null,\"\\u4F7F\\u7528\",mdx(\"inlineCode\",{parentName:\"h2\"},\"create-react-app\"),\"\\u521B\\u5EFA\\u5E94\\u7528\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-shell\"}),`npx create-react-app state-demo\ncd state-demo\n`)),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-jsx\"}),`//App.js\nimport React from 'react';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      title: 'React state example',\n    };\n  }\n\n  tooggleTitle = () => {\n    if (this.state.title === '') {\n      this.setState({ title: 'React state example' });\n    } else {\n      this.setState({ title: '' });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <input\n            type=\"checkbox\"\n            id=\"showTitle\"\n            onClick={this.tooggleTitle}\n            defaultChecked\n          />\n          <label htmlFor=\"showTitle\">Show title</label>\n        </div>\n\n        <h2>{this.state.title}</h2>\n      </div>\n    );\n  }\n}\n\nexport default App;\n`)),mdx(\"p\",null,\"\\u5728\\u8FD9\\u91CC\\u521B\\u5EFA\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\",mdx(\"inlineCode\",{parentName:\"p\"},\"state\"),\"\\uFF0C\\u7528\\u6765\\u5B58\\u50A8\",mdx(\"inlineCode\",{parentName:\"p\"},\"title\"),\"\\u7684\\u5C5E\\u6027\"),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"toggleTitle\"),\"\\u51FD\\u6570\\u5207\\u6362\",mdx(\"inlineCode\",{parentName:\"p\"},\"title\"),\"\\u7684\\u503C\"),mdx(CodeSandbox,{codeSandboxId:\"white-worker-4r3bv\",mdxType:\"CodeSandbox\"}),mdx(\"p\",null,mdx(\"a\",o({parentName:\"p\"},{href:\"https://csb-4r3bv.netlify.app/\"}),\"\\u5728\\u7EBF\\u5730\\u5740\")))}MDXContent.isMDXComponent=!0;\n","scope":{"date":"April 28, 2021","title":"React State","tags":["react","javascript"],"description":"å¦‚ä½•åœ¨ React.js ä¸­å¤„ç†çŠ¶æ€","fromNow":"8 months ago"}},"randomPost":[{"data":{"date":"May 19, 2020","title":"åŸå‹å’ŒåŸå‹é“¾","tags":["javascript"],"fromNow":"2 years ago"},"content":"\n![Dyv0vb](https://cdn.jsdelivr.net/gh/funnyPan/pics@master/uPic/Dyv0vb.jpg)\n\næ¯ä¸ªå¯¹è±¡éƒ½ä¼šåœ¨å…¶å†…éƒ¨åˆå§‹åŒ–â¼€ä¸ªå±æ€§ï¼Œå°±æ˜¯`prototype`(åŸå‹)ï¼Œå½“æˆ‘ä»¬è®¿é—®â¼€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆä»–å°±ä¼šå»`prototype` â¾¥æ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ª`prototype`â¼œä¼šæœ‰â¾ƒâ¼°çš„`prototype`ï¼Œäºæ˜¯å°±è¿™æ ·â¼€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³æ—¶æ‰€è¯´çš„åŸå‹é“¾çš„æ¦‚å¿µå…³ç³»ï¼š`instance.constructor.prototype = instance.__proto__` ç‰¹ç‚¹ï¼š JavaScript å¯¹è±¡æ˜¯é€šè¿‡å¼•â½¤æ¥ä¼ é€’çš„ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªæ–°å¯¹è±¡å®ä½“ä¸­å¹¶æ²¡æœ‰â¼€ä»½å±äºâ¾ƒâ¼°çš„åŸå‹å‰¯æœ¬ã€‚å½“æˆ‘ä»¬ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™â¼€æ”¹å˜å½“æˆ‘ä»¬éœ€è¦â¼€ä¸ªå±æ€§çš„æ—¶ï¼Œ Javascript å¼•æ“ä¼šå…ˆçœ‹å½“å‰å¯¹è±¡ä¸­æ˜¯å¦æœ‰è¿™ä¸ªå±æ€§ï¼Œ å¦‚æœæ²¡æœ‰çš„å°±ä¼šæŸ¥æ‰¾ä»–çš„`Prototype`å¯¹è±¡æ˜¯å¦æœ‰è¿™ä¸ªå±æ€§ï¼Œå¦‚æ­¤é€’æ¨ä¸‹å»ï¼Œâ¼€ç›´æ£€ç´¢åˆ°`Object`å†…å»ºå¯¹è±¡\n\n## åŸå‹ï¼š\n\nJavaScript çš„æ‰€æœ‰å¯¹è±¡ä¸­éƒ½åŒ…å«äº†â¼€ä¸ª [__proto__] å†…éƒ¨å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ‰€å¯¹åº”çš„å°±æ˜¯è¯¥å¯¹è±¡çš„åŸå‹\n\nJavaScript çš„å‡½æ•°å¯¹è±¡ï¼Œé™¤äº†åŸå‹ [__proto__] ä¹‹å¤–ï¼Œè¿˜é¢„ç½®äº† prototype å±æ€§å½“å‡½æ•°å¯¹è±¡ä½œä¸ºæ„é€ å‡½æ•°åˆ›å»ºå®ä¾‹æ—¶ï¼Œè¯¥ prototype å±æ€§å€¼å°†è¢«ä½œä¸ºå®ä¾‹å¯¹è±¡çš„åŸå‹[__proto__] ã€‚\n\n## åŸå‹é“¾ï¼š\n\nå½“â¼€ä¸ªå¯¹è±¡è°ƒâ½¤çš„å±æ€§/â½…æ³•â¾ƒèº«ä¸å­˜åœ¨æ—¶ï¼Œå°±ä¼šå»â¾ƒâ¼° [__proto__] å…³è”çš„å‰è¾ˆ prototype å¯¹è±¡ä¸Šå»æ‰¾å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±ä¼šå»è¯¥ prototype åŸå‹ [__proto__] å…³è”çš„å‰è¾ˆ prototype å»æ‰¾ã€‚ä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°æ‰¾åˆ°å±æ€§/â½…æ³•æˆ– undefined ä¸ºâ½Œã€‚ä»â½½å½¢æˆäº†æ‰€è°“çš„â€œåŸå‹é“¾â€\n\n## åŸå‹ç‰¹ç‚¹ï¼š\n\nJavaScript å¯¹è±¡æ˜¯é€šè¿‡å¼•â½¤æ¥ä¼ é€’çš„ï¼Œå½“ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™â¼€æ”¹å˜\n","slug":"javascript/advance/åŸå‹å’ŒåŸå‹é“¾"},{"data":{"date":"November 20, 2021","title":"å¦‚ä½•åœ¨ vue ä¸­ä½¿ç”¨ Debounceã€Throttle","tags":["vue","javascript"],"description":"å¦‚inputã€resizeã€scrollã€intersection observer ç­‰äº‹ä»¶å¯èƒ½å‘ç”Ÿå¾—éå¸¸é¢‘ç¹ï¼Œä¾‹å¦‚æ¯ç§’å‘ç”Ÿå‡ æ¬¡ï¼Œå› æ­¤è°ƒç”¨ä¸€ä¸ªåŠ¨ä½œï¼Œæ¯”å¦‚å¯¹æ¯ä¸ªäº‹ä»¶å‘å‡ºè¯»å–è¯·æ±‚ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ˜æ™ºçš„æ–¹æ³•ã€‚","fromNow":"25 days ago"},"content":"\n## ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ debounce å’Œ throttle\n\né˜²æŠ–å’ŒèŠ‚æµå°±æ˜¯é’ˆå¯¹å“åº”è·Ÿä¸ä¸Šè§¦å‘é¢‘ç‡è¿™ç±»é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚åœ¨ç»™ DOM ç»‘å®šäº‹ä»¶æ—¶ï¼Œæœ‰äº›äº‹ä»¶æˆ‘ä»¬æ˜¯æ— æ³•æ§åˆ¶è§¦å‘é¢‘ç‡çš„ã€‚ å¦‚é¼ æ ‡ç§»åŠ¨äº‹ä»¶ onmousemove, æ»šåŠ¨æ»šåŠ¨æ¡äº‹ä»¶ onscrollï¼Œçª—å£å¤§å°æ”¹å˜äº‹ä»¶ onresizeï¼Œç¬é—´çš„æ“ä½œéƒ½ä¼šå¯¼è‡´è¿™äº›äº‹ä»¶ä¼šè¢«é«˜é¢‘è§¦å‘ã€‚ å¦‚æœäº‹ä»¶çš„å›è°ƒå‡½æ•°è¾ƒä¸ºå¤æ‚ï¼Œå°±ä¼šå¯¼è‡´å“åº”è·Ÿä¸ä¸Šè§¦å‘ï¼Œå‡ºç°é¡µé¢å¡é¡¿ï¼Œå‡æ­»ç°è±¡ã€‚ åœ¨å®æ—¶æ£€æŸ¥è¾“å…¥æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ç»‘å®š onkeyup äº‹ä»¶å‘è¯·æ±‚å»æœåŠ¡ç«¯æ£€æŸ¥ï¼Œç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œäº‹ä»¶çš„è§¦å‘é¢‘ç‡ä¹Ÿä¼šå¾ˆé«˜ï¼Œä¼šå¯¼è‡´å¤§é‡çš„è¯·æ±‚å‘å‡ºï¼Œå“åº”é€Ÿåº¦ä¼šå¤§å¤§è·Ÿä¸ä¸Šè§¦å‘ã€‚\n\n## åœ¨ watcher ä¸­ä½¿ç”¨ debounce\n\n1. åœ¨`created`ç”Ÿå‘½å‘¨æœŸå°†`this.debounce`ç»‘å®šåˆ°`this`ä¸Šï¼Œè¿™æ ·`this.debounce`å°±å¯ä»¥åœ¨`created`ç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ã€‚\n2. åœ¨`watch`å‡½æ•°ä¸­ï¼Œä½¿ç”¨`this.debounce`è°ƒç”¨`debounce`å‡½æ•°ï¼Œå¹¶ä¼ å…¥`this.debounce`çš„å›è°ƒå‡½æ•°ã€‚\n3. åœ¨äº‹ä»¶é”€æ¯å‰ï¼Œä½¿ç”¨`this.debounce`è°ƒç”¨`clear`å‡½æ•°ï¼Œæ¸…é™¤å®šæ—¶å™¨ã€‚\n\n```html\n<template>\n  <input v-model=\"value\" type=\"text\" />\n  <p>{{ value }}</p>\n</template>\n<script>\n  import debounce from 'lodash.debounce';\n  export default {\n    data() {\n      return {\n        value: '',\n      };\n    },\n    watch: {\n      value(...args) {\n        this.debouncedWatch(...args);\n      },\n    },\n    created() {\n      this.debouncedWatch = debounce((newValue, oldValue) => {\n        console.log('New value:', newValue);\n      }, 500);\n    },\n    beforeUnmount() {\n      this.debouncedWatch.cancel();\n    },\n  };\n</script>\n```\n\n## ä½¿ç”¨ debounce å¤„ç†äº‹ä»¶\n\n```html\n<template>\n  <input v-on:input=\"debouncedHandler\" type=\"text\" />\n</template>\n<script>\n  import debounce from 'lodash.debounce';\n  export default {\n    created() {\n      this.debouncedHandler = debounce((event) => {\n        console.log('New value:', event.target.value);\n      }, 500);\n    },\n    beforeUnmount() {\n      this.debouncedHandler.cancel();\n    },\n  };\n</script>\n```\n\nä¸ºä»€ä¹ˆä¸é€‚ç”¨`debounce`æˆ–`throttle`ç›´æ¥ç»‘å®šå‡½æ•°å‘¢ï¼Ÿæ¯”å¦‚ï¼š\n\n```html\n<template>\n  <input v-on:input=\"debouncedHandler\" type=\"text\" />\n</template>\n<script>\n  import debounce from 'lodash.debounce';\n  export default {\n    methods: {\n      // Don't do this!\n      debouncedHandler: debounce(function (event) {\n        console.log('New value:', event.target.value);\n      }, 500),\n    },\n  };\n</script>\n```\n\n**ä½¿ç”¨`export default { ... }`ä»ç»„ä»¶å¯¼å‡ºçš„ options å¯¹è±¡ï¼ŒåŒ…æ‹¬æ–¹æ³•ï¼Œå°†è¢«ç»„ä»¶çš„æ‰€æœ‰å®ä¾‹é‡ç”¨ã€‚å¦‚æœç½‘é¡µä¸­æœ‰ 2 ä¸ªæˆ–æ›´å¤šçš„ç»„ä»¶å®ä¾‹ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„ç»„ä»¶éƒ½å°†ä½¿ç”¨ç›¸åŒçš„`debounce`æˆ–`throttle`çš„å‡½æ•°æ–¹æ³•ã€‚**\n\n## æ€»ç»“\n\nåœ¨ `vue` ä¸­ä½¿ç”¨ `debounce` å’Œ `throttle` å‡½æ•°ï¼Œåº”è¯¥åœ¨ `created` å’Œ `beforeUnmount` ç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ï¼Œè€Œä¸æ˜¯åœ¨ `watch` ä¸­ä½¿ç”¨ã€‚\n\n```html\n<template>\n  <input v-on:input=\"debouncedHandler\" type=\"text\" />\n</template>\n<script>\n  export default {\n    created() {\n      this.debouncedCallback = debounce((...args) => {\n        // The debounced\n        callback;\n      }, 500);\n    },\n    watch: {\n      value(...args) {\n        this.debouncedCallback(...args);\n      },\n    },\n  };\n</script>\n```\n","slug":"vue/debounce-throttle"},{"data":{"date":"April 11, 2021","title":"é—­åŒ…","tags":["swift"],"description":"é—­åŒ…(Closures)æ˜¯è‡ªåŒ…å«çš„åŠŸèƒ½ä»£ç å—ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­ä½¿ç”¨æˆ–è€…ç”¨æ¥ä½œä¸ºå‚æ•°ä¼ å€¼ã€‚","fromNow":"8 months ago"},"content":"\n## é—­åŒ…çš„å®šä¹‰\n\né—­åŒ…(Closures)æ˜¯è‡ªåŒ…å«çš„åŠŸèƒ½ä»£ç å—ï¼Œå¯ä»¥å°†é—­åŒ…è§†ä¸ºæ— åå‡½æ•°ï¼Œå¯ä»¥å°†å…¶åˆ†é…ç»™å˜é‡æˆ–å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚\né—­åŒ…ä¸»è¦ç”¨äºåœ¨å°†æ¥æ»¡è¶³æ¡ä»¶æ—¶æ‰§è¡ŒæŸé¡¹æ“ä½œã€‚ä¾‹å¦‚ï¼ŒæˆåŠŸä¸‹è½½æ–‡ä»¶åï¼Œå°†å…¶å†…å®¹å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ã€‚\n\nå…¨å±€å‡½æ•°å’ŒåµŒå¥—å‡½æ•°å…¶å®å°±æ˜¯ç‰¹æ®Šçš„é—­åŒ…ã€‚\n\né—­åŒ…çš„å½¢å¼æœ‰ï¼š\n\n| å…¨å±€å‡½æ•°               | åµŒå¥—å‡½æ•°                       | é—­åŒ…è¡¨è¾¾å¼                                         |\n| ---------------------- | ------------------------------ | -------------------------------------------------- |\n| æœ‰åå­—ä½†ä¸èƒ½æ•è·ä»»ä½•å€¼ | æœ‰åå­—ï¼Œä¹Ÿèƒ½æ•è·å°é—­å‡½æ•°å†…çš„å€¼ | æ— åé—­åŒ…ï¼Œä½¿ç”¨è½»é‡çº§è¯­æ³•ï¼Œå¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡ç¯å¢ƒæ•è·å€¼ |\n\n## åˆ›å»ºé—­åŒ…\n\n```swift\nlet helloWorldClosure = {\n  print(\"hello\")\n}\n\nhelloWorldClosure()\n```\n\nä¸Šé¢çš„ä»£ç åˆ›å»ºä¸€ä¸ªæ‰“å°`Hello`çš„é—­åŒ…ï¼Œå¹¶å°†è¯¥é—­åŒ…åˆ†é…ç»™`helloWorldClosure`å˜é‡ã€‚ç„¶åï¼Œå¯ä»¥åƒè°ƒç”¨å‡½æ•°ä¸€æ ·ç®€å•åœ°è°ƒç”¨é—­åŒ…ã€‚\n\n## æ¥æ”¶å‚æ•°\n\n```swift\nlet driving = { (place: String) in\n    print(\"I'm going to \\(place) in my car\")\n}\ndriving(\"London\")\n```\n\n## é—­åŒ…è¿”å›å€¼\n\n```swift\nlet addClosure = { (first: Int, second: Int) -> Int in\n    return first + second\n}\n\nlet sum = addClosure(1,2)\n```\n\nä¸Šé¢çš„ä»£ç åˆ›å»ºä¸€ä¸ªä»¥ä¸¤ä¸ªæ•°å­—ä¸ºå‚æ•°çš„é—­åŒ…ï¼Œå¹¶è¿”å›æ•°å­—çš„æ€»å’Œã€‚\n\n## ä½œä¸ºå‚æ•°ä¼ é€’\n\n```swift\nlet saveFile = {\n   //code to save file\n}\n\nfunc downloadFile(imageUrl, onSuccess: () ->) {\n  //code to download file\n  if(downloadSuccessfull){\n     onSuccess()\n  }\n}\n\ndownloadFile(imageUrl: \"Instagram\", onSuccess: saveFile)\n```\n\nä¸Šé¢çš„ä»£ç åˆ›å»ºäº†ä¸€ä¸ªé—­åŒ…ï¼Œç”¨äºä¿å­˜ä»`Internet`ä¸‹è½½çš„æ–‡ä»¶ã€‚è¿™ä¸ªé—­åŒ…è¢«ä¼ é€’åˆ°`downloadFile`å‡½æ•°ä¸­ã€‚æ­¤`downloadFile`åŠŸèƒ½ä»äº’è”ç½‘ä¸‹è½½æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸‹è½½æˆåŠŸï¼Œåˆ™è°ƒç”¨ä¿å­˜æ–‡ä»¶å…³é—­ã€‚\n","slug":"swift/100days/day06"},{"data":{"date":"December 21, 2020","title":"Macos Dockerå®‰è£…","tags":["docker"],"fromNow":"a year ago"},"content":"\n## brew å®‰è£… docker\n\n```shell\n#æœç´¢\n==> Formulae\ndocker                          docker-credential-helper        docker-machine-completion       docker-machine-nfs              docker2aci\ndocker-clean                    docker-credential-helper-ecr    docker-machine-driver-hyperkit  docker-machine-parallels        dockerize\ndocker-completion               docker-gen                      docker-machine-driver-vmware    docker-slim                     lazydocker\ndocker-compose                  docker-ls                       docker-machine-driver-vultr     docker-squash\ndocker-compose-completion       docker-machine                  docker-machine-driver-xhyve     docker-swarm\n==> Casks\ndocker\n\n#å®‰è£…\nbrew install docker\n==> Downloading https://mirrors.ustc.edu.cn/homebrew-bottles/bottles/docker-19.03.14.big_sur.bottle.tar.gz\n######################################################################## 100.0%\n==> Pouring docker-19.03.14.big_sur.bottle.tar.gz\n==> Caveats\nzsh completions have been installed to:\n  /usr/local/share/zsh/site-functions\n==> Summary\nğŸº  /usr/local/Cellar/docker/19.03.14: 14 files, 71.6MB\n```\n\n## æ‰‹åŠ¨å®‰è£…\n\nä¸‹è½½[Stable](https://download.docker.com/mac/stable/Docker.dmg)ï¼ŒåŒå‡»å®‰è£…\n\n![PVr5uh](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/PVr5uh.jpg)\n\nå®‰è£…å®Œæˆåï¼Œé€šè¿‡å‘½ä»¤æ£€æŸ¥ Docker ç‰ˆæœ¬\n\n```shell\ndocker --version\n\nDocker version 19.03.14, build 5eb3275\n```\n\n## é•œåƒåŠ é€Ÿ\n\n![NAWFnd](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/NAWFnd.png)\n\n## æ›´å¤š\n","slug":"docker/Macoså®‰è£…Docker"},{"data":{"date":"April 28, 2021","title":"React State","tags":["react","javascript"],"description":"å¦‚ä½•åœ¨ React.js ä¸­å¤„ç†çŠ¶æ€","fromNow":"8 months ago"},"content":"\n`state`æ˜¯`React`ç»„ä»¶ä¸­çš„å†…ç½®å¯¹è±¡\n\nåœ¨`state`å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å­˜å‚¨å±äºç»„ä»¶çš„å±æ€§å€¼ã€‚å½“çŠ¶æ€å¯¹è±¡æ›´æ”¹æ—¶ï¼Œç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ä½¿ç”¨`setState()`å‡½æ•°ä¿®æ”¹`state`å¯¹è±¡ã€‚`state`å’Œ`props`ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äº`props`è¢«ä¼ é€’ç»™ç»„ä»¶ï¼Œè€Œ`state`åœ¨ç»„ä»¶ä¸­è¿›è¡Œç®¡ç†ã€‚å¼€å‘äººå‘˜åº”è¯¥å§‹ç»ˆå°è¯•ä½¿çŠ¶æ€æœ€å°åŒ–ã€‚æ­¤å¤–ï¼Œæœ‰çŠ¶æ€ç»„ä»¶çš„æ•°é‡åº”è¯¥æœ€å°åŒ–ã€‚\n\n## ä½¿ç”¨`create-react-app`åˆ›å»ºåº”ç”¨\n\n```shell\nnpx create-react-app state-demo\ncd state-demo\n```\n\n```jsx\n//App.js\nimport React from 'react';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      title: 'React state example',\n    };\n  }\n\n  tooggleTitle = () => {\n    if (this.state.title === '') {\n      this.setState({ title: 'React state example' });\n    } else {\n      this.setState({ title: '' });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <input\n            type=\"checkbox\"\n            id=\"showTitle\"\n            onClick={this.tooggleTitle}\n            defaultChecked\n          />\n          <label htmlFor=\"showTitle\">Show title</label>\n        </div>\n\n        <h2>{this.state.title}</h2>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\nåœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªç®€å•çš„`state`ï¼Œç”¨æ¥å­˜å‚¨`title`çš„å±æ€§\n\n`toggleTitle`å‡½æ•°åˆ‡æ¢`title`çš„å€¼\n\n<CodeSandbox codeSandboxId=\"white-worker-4r3bv\" />\n\n[åœ¨çº¿åœ°å€](https://csb-4r3bv.netlify.app/)\n","slug":"react/state"},{"data":{"date":"May 9, 2018","title":"String","tags":["javascript"],"fromNow":"4 years ago"},"content":"\n## String\n\n### æ–¹æ³•\n\n- String.fromCharCode() //é€šè¿‡ä¸€ä¸² Unicode åˆ›å»ºå­—ç¬¦ä¸²ã€‚\n- String.fromCodePoint() //é€šè¿‡ä¸€ä¸² ç ç‚¹ åˆ›å»ºå­—ç¬¦ä¸²ã€‚\n- String.raw() //é€šè¿‡æ¨¡æ¿å­—ç¬¦ä¸²åˆ›å»ºå­—ç¬¦ä¸²ã€‚\n\n### å®ä¾‹æ–¹æ³•\n\n- charAt(i)\n- charCodeAt(i)\n- codePointAt(i)\n- concat(str)\n- endsWith(str)\n- includes(str)\n- indexOf(str)\n- lastIndexOf(str)\n- localeCompare()\n- match(regex)\n- normalize()\n- padEnd()\n- padStart()\n- repeat()\n- replace(str1, str2)\n- search(str)\n- slice(begin, end)\n- split(separator)\n- startsWith(str)\n- substring()\n- toLocaleLowerCase()\n- toLocaleUpperCase()\n- toLowerCase()\n- toString()\n- toUpperCase()\n- trim()\n- trimEnd()\n- trimStart()\n- valueOf()\n\n### charAt\n\n> è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦,ä¸”è¿”å›çš„å­—ç¬¦é•¿åº¦ä¸º 1ï¼Œ**_js æ²¡æœ‰ä¸€ç§æœ‰åˆ«äºå­—ç¬¦ä¸²ç±»å‹çš„å­—ç¬¦æ•°æ®ç±»å‹_**\n\n```javascript\nstring.charAt(index);\n\n'porhub'.charAt(0); //'p'\n'porhub'.charAt(1); //'o'\n'porhub'.charAt(2); //'r'\n```\n\n### charCodeAt\n\n> è¿”å›åœ¨æŒ‡å®šçš„ä½ç½®çš„å­—ç¬¦çš„ Unicode ç¼–ç \n\n**å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡æ˜¯ 0ã€‚å¦‚æœ index æ˜¯è´Ÿæ•°ï¼Œæˆ–å¤§äºç­‰äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™ charCodeAt() è¿”å› NaNã€‚**\n\n```javascript\nstring.charCodeAt(index);\n\n'porhub'.charCodeAt(0); //112\n'porhub'.charCodeAt(1); //111\n'porhub'.charCodeAt(2); //114\n```\n\n### codePointAt\n\n> ES2015 å¼•å…¥çš„ï¼Œç”¨äºå¤„ç† 2 UTF-16 å­—ç¬¦çš„ï¼Œæ¯”å¦‚ä¸­æ–‡ï¼Œåœ¨ ES2015 ä¹‹å‰ charCodeAt åªèƒ½å¤„ç†å•ä¸ªå­—ç¬¦ï¼Œå¤„ç†åŒå­—ç¬¦å¿…é¡»ä¸€ä¸ªä¸ªå¤„ç†ç„¶åæ‹¼æ¥ã€‚\n\n```javascript\nstring.codePointAt(index);\n\n//ES2015ä¹‹å‰\n'ğ ®·'.charCodeAt(0).toString(16); //d842\n'ğ ®·'.charCodeAt(1).toString(16); //dfb7\n('\\ud842\\udfb7'); //ğ ®·\n\n//ES2015\n'ğ ®·'.codePointAt(0); //20bb7\n('\\u{20bb7}'); //ğ ®·\n```\n\n### concat\n\n> ç±»ä¼¼ Array çš„ concat\n\n```javascript\nstringObject.concat(stringX,stringX,...,stringX)\n\n\"browser\".concat(\"porhub\");\n```\n\né€šå¸¸ä½¿ç”¨ + æ‹¼æ¥æ¥å¾—æ›´æ–¹ä¾¿ï¼Œæˆ–è€…ä½¿ç”¨ ES2015 çš„``å­—ç¬¦æ‰©å±•ã€‚\n\n### endWith\n\n> ç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²â€œç»“å°¾â€çš„ï¼Œæ ¹æ®åˆ¤æ–­ç»“æœè¿”å› true æˆ– falseã€‚\n\n```javascript\nstr.endsWith(searchString, position);\n\n'JavaScript'.endsWith('Script'); //true\n'JavaScript'.endsWith('script'); //false\n'JavaScript'.endsWith('Script', 5); //false\n'JavaScript'.endsWith('as', 5); //true\n```\n\n### includes\n\n> ç”¨äºåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ ¹æ®æƒ…å†µè¿”å› true æˆ– false\n\n```javascript\nstr.includes(searchString, position);\n\n'JavaScript'.includes('Script'); //true\n'JavaScript'.includes('script'); //false\n'JavaScript'.includes('nice'); //true\n'JavaScript'.includes('nice', 3); //false\n```\n\n### indexOf\n\n> ç”¨äºè¿”å›å­—ç¬¦ä¸²ä¸­å‡ºç°æŸä¸ªå­—ç¬¦çš„åˆå§‹ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›-1.\n\n```javascript\nstr.indexOf(searchString, startPosition);\n\n'JavaScript'.indexOf('a'); //1\n'JavaScript'.indexOf('a', 2); //3\n```\n\n### lastIndexOf\n\n> ç”¨äºè¿”å›æŸä¸ªå­—ç¬¦æœ€åå‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿”å›-1\n\n```javascript\nstr.lastIndexOf(searchString, startPosition);\n\n'JavaScript'.lastIndexOf('a'); //3\n'JavaScript'.lastIndexOf('a', 1); //1\n```\n\n### padEnd\n\n> ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å¡«å……å½“å‰å­—ç¬¦ä¸²ï¼ˆå¦‚æœéœ€è¦çš„è¯åˆ™é‡å¤å¡«å……ï¼‰ï¼Œè¿”å›å¡«å……åè¾¾åˆ°æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²ã€‚ä»å½“å‰å­—ç¬¦ä¸²çš„æœ«å°¾ï¼ˆå³ä¾§ï¼‰å¼€å§‹å¡«å……ã€‚\n\n```javascript\nstr.padEnd(targetLength, string);\n\n'abc'.padEnd(10); // \"abc       \"\n'abc'.padEnd(10, 'foo'); // \"abcfoofoof\"\n'abc'.padEnd(6, '123456'); // \"abc123\"\n'abc'.padEnd(1); // \"abc\"\n```\n\n### padStart\n\n> ç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¡«å……å½“å‰å­—ç¬¦ä¸²(é‡å¤ï¼Œå¦‚æœéœ€è¦çš„è¯)ï¼Œä»¥ä¾¿äº§ç”Ÿçš„å­—ç¬¦ä¸²è¾¾åˆ°ç»™å®šçš„é•¿åº¦ã€‚å¡«å……ä»å½“å‰å­—ç¬¦ä¸²çš„å¼€å§‹(å·¦ä¾§)åº”ç”¨çš„\n\n```javascript\nstr.padStart(targetLength, string);\n\n'abc'.padStart(10); // \"       abc\"\n'abc'.padStart(10, 'foo'); // \"foofoofabc\"\n'abc'.padStart(6, '123465'); // \"123abc\"\n'abc'.padStart(8, '0'); // \"00000abc\"\n'abc'.padStart(1); // \"abc\"\n```\n\n### repeat\n\n> æ„é€ å¹¶è¿”å›ä¸€ä¸ªåŒ…å«è¢«è¿æ¥åœ¨ä¸€èµ·çš„æŒ‡å®šæ•°é‡çš„æ–°å­—ç¬¦ä¸²ã€‚\n\n```javascript\nstr.repeat(count);\n\n'abc'.repeat(-1); // RangeError: repeat count must be positive and less than inifinity\n'abc'.repeat(0); // \"\"\n'abc'.repeat(1); // \"abc\"\n'abc'.repeat(2); // \"abcabc\"\n'abc'.repeat(3.5); // \"abcabcabc\" å‚æ•°countå°†ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆæ•´æ•°.\n'abc'.repeat(1 / 0); // RangeError: repeat count must be positive and less than inifinity\n```\n\n### slice\n\n> æˆªå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²\n\n```javascript\nstr.slice(startPosition, endPosition);\n\n'abc'.slice(0, 1); //a\n'abc'.slice(0, -1); //ab\n```\n\n### split\n\n> å°†å­—ç¬¦ä¸²åˆ‡å‰²æˆæ•°ç»„\n\n```javascript\nstr.split(separator, limit);\n\n'abc'.split(); //\"[a,b,c]\";\n'a,b,c'.split(',', 1); //[a]\n```\n\n### startWith\n\n> åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥ç»™å®šçš„å­—ç¬¦ä¸²å¼€å§‹ï¼Œè¿”å› true/false\n\n```javascript\nstr.startsWith(searchString, poistion);\n\n'abc'.startsWith('a'); //true\n'abc'.startsWith('a', 1); //false\n```\n\n### substring\n\n> æ ¹æ®å¼€å§‹ç´¢å¼•åˆ°ç»“æŸç´¢å¼•æˆªå–å­—ç¬¦ä¸²\n\n```javascript\nstr.substring(startPosition, endPosition);\n\n'abc'.substring(0, 1); //a\n'abc'.substring(-1); //abc\n```\n\n1. å¦‚æœ startPosition ç­‰äº indexEndï¼Œsubstring è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚\n2. å¦‚æœçœç•¥ indexEndï¼Œsubstring æå–å­—ç¬¦ä¸€ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚\n3. å¦‚æœä»»ä¸€å‚æ•°å°äº 0 æˆ–ä¸º NaNï¼Œåˆ™è¢«å½“ä½œ 0ã€‚\n4. å¦‚æœä»»ä¸€å‚æ•°å¤§äº stringName.lengthï¼Œåˆ™è¢«å½“ä½œ stringName.lengthã€‚\n5. å¦‚æœ startPosition å¤§äº indexEndï¼Œåˆ™ substring çš„æ‰§è¡Œæ•ˆæœå°±åƒä¸¤ä¸ªå‚æ•°è°ƒæ¢äº†ä¸€æ ·ã€‚è§ä¸‹é¢çš„ä¾‹å­ã€‚\n\n### toLocaleLowerCase/toLocaleUpperCase/toUpperCase/toLowerCase\n\n> å°†å­—ç¬¦ä¸²è½¬æ¢æˆå°å†™/å¤§å†™\n\n```javascript\nstr.toLocaleLowerCase() /\n  str.toLocaleUpperCase() /\n  str.toUpperCase() /\n  str.toLowerCase();\n\n'ABC'.toLocaleLowerCase(); //abc\n'abc'.toLocaleUpperCase(); //ABC\n```\n\n### toString\n\n> å°†\\*è½¬æ¢æˆå­—ç¬¦ä¸²\n\n```javascript\nvar x = new String('Hello world');\n\nalert(x.toString()); // è¾“å‡º \"Hello world\"\n```\n\n### trim/trimStart/trimEnd\n\n> ç§»é™¤ç©ºç™½å­—ç¬¦/èµ·å§‹ä½ç½®ç©ºç™½å­—ç¬¦/ç»“å°¾ä½ç½®ç©ºç™½å­—ç¬¦\n\n```javascript\nstr.trim() / str.trimStart() / str.trimEnd();\n\n'Testing'.trim(); //'Testing'\n' Testing'.trim(); //'Testing'\n' Testing '.trim(); //'Testing'\n'Testing '.trim(); //'Testing'\n```\n\n### valueOf\n\n> è¿”å› str çš„åŸå§‹å€¼ï¼Œç­‰åŒäº String.prototype.toString\n\n```javascript\nstr.valueOf();\n\nx = new String('Hello world');\nalert(x.valueOf()); // Displays \"Hello world\"\n```\n\n### æ‰©å±•å­¦ä¹ \n\n```javascript\n1 +\n  '5'[(1, 3, 5)] + //\"15\"\n  1; //\"1,3,51\"\n10 + true; // 11\n15 + {}; // \"15[object Object]\"\n8 + null; // 8\n'queen' + null; // \"queennull\"\n12 + undefined; // NaN\n```\n\n[See examples in jsbin](http://jsbin.com/fiwemir/2/edit?js,console)\n","slug":"javascript/base/String"}]},"__N_SSG":true}