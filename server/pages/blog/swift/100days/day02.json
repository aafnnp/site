{"pageProps":{"data":{"date":"April 3, 2021","title":"数组、字典、集合、枚举","tags":["swift"],"description":"取得成功的秘诀就是开始","fromNow":"8 months ago"},"content":{"compiledSource":"var u=Object.defineProperty,m=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;var l=(e,t,a)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,i=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&l(e,a,t[a]);if(n)for(var a of n(t))s.call(t,a)&&l(e,a,t[a]);return e},c=(e,t)=>m(e,f(t));var p=(e,t)=>{var a={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&n)for(var r of n(e))t.indexOf(r)<0&&s.call(e,r)&&(a[r]=e[r]);return a};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var r=a,{components:e}=r,t=p(r,[\"components\"]);return mdx(MDXLayout,c(i(i({},layoutProps),t),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Swift \\u4E2D\\u590D\\u6742\\u7C7B\\u578B\\u5305\\u62EC\\uFF1A\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Array\"),mdx(\"li\",{parentName:\"ul\"},\"Set\"),mdx(\"li\",{parentName:\"ul\"},\"Tuple\"),mdx(\"li\",{parentName:\"ul\"},\"Dictionary\"),mdx(\"li\",{parentName:\"ul\"},\"Enums\")),mdx(\"h3\",null,\"Array\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"Swift \\u6570\\u7EC4\\u5141\\u8BB8\\u60A8\\u5B58\\u50A8\\u76F8\\u540C\\u7C7B\\u578B\\u7684\\u503C\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\\u8BE5\\u503C\\u5728\\u6570\\u7EC4\\u4E2D\\u7684\\u4F4D\\u7F6E\\u6765\\u68C0\\u7D22\\u8FD9\\u4E9B\\u503C\\u3002Swift \\u4F1A\\u5F3A\\u5236\\u68C0\\u6D4B\\u5143\\u7D20\\u7C7B\\u578B\\uFF0C\\u5982\\u679C\\u7C7B\\u578B\\u4E0D\\u540C\\uFF0C\\u4F1A\\u62A5\\u9519\\u3002\")),mdx(\"pre\",null,mdx(\"code\",i({parentName:\"pre\"},{className:\"language-swift\"}),`// \\u521B\\u5EFA\\u6570\\u7EC4\nvar firstArray = [\"hello\",\"hello\",\"world\"]\nvar secondArray = [\"swift\",\"niubility\"]\n\n// \\u83B7\\u53D6\\u6570\\u7EC4\\u7B2C\\u4E00\\u4E2A\\u5143\\u7D20\nprint(firstArray[0]) // hello\n\n//\\u6DFB\\u52A0\\u6570\\u7EC4\nfirstArray.append(\"manon\")\nfirstArray+=[\"icu\"]\n\n// \\u5FAA\\u73AF\\u6570\\u7EC4\nfor item in firstArray{\n    print(item) //hell hello world manon icu\n}\n\n// \\u4FEE\\u6539\\u6570\\u7EC4\\u5143\\u7D20\nfirstArray[0] = \"swift\"\n\n// \\u5408\\u5E76\\u6570\\u7EC4\nfirstArray+secondArray\n\n// \\u8BA1\\u7B97\\u6570\\u7EC4\\u5143\\u7D20\\u7684\\u4E2A\\u6570\nfirstArray.count\n\n// \\u5224\\u65AD\\u6570\\u7EC4\\u662F\\u5426\\u4E3A\\u7A7A\nfirstArray.isEmpty\n\n// \\u5220\\u9664\\u6570\\u7EC4\\u5143\\u7D20\nfirstArray.remove(at: 0)\n`)),mdx(\"h3\",null,\"Set\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"\\u96C6\\u5408\\u662F\\u7528\\u6765\\u5B58\\u50A8\\u7C7B\\u578B\\u76F8\\u540C\\u4E14\\u6CA1\\u6709\\u786E\\u5B9A\\u987A\\u5E8F\\u7684\\u552F\\u4E00\\u7684\\u503C\\uFF0C\\u4E0D\\u5141\\u8BB8\\u63D2\\u5165\\u5DF2\\u5B58\\u5728\\u7684\\u503C\")),mdx(\"pre\",null,mdx(\"code\",i({parentName:\"pre\"},{className:\"language-swift\"}),`// \\u521B\\u5EFA\\u96C6\\u5408\nlet firstSet = Set([\"hello\",\"world\",\"manon\",\"icu\",\"swift\"])\nlet secondSet = Set([\"just\",\"do\",\"it\"])\n\n// \\u8BBF\\u95EE\\u96C6\\u5408\nfor item in firstSet{\n    print(item) //\"hello\",\"world\",\"manon\",\"icu\",\"swift\"\n}\n\n// \\u5224\\u65AD\\u662F\\u5426\\u4E3A\\u7A7A\nfirstSet.isEmpty // false\n\n// \\u8BA1\\u7B97\\u96C6\\u5408\\u7684\\u957F\\u5EA6\nfirstSet.count //5\n\n// \\u5224\\u65AD\\u662F\\u5426\\u5305\\u542B\\u67D0\\u4E2A\\u5143\\u7D20\nfirstSet.contains(\"manon\") //true\n\n// \\u5411\\u96C6\\u5408\\u6DFB\\u52A0\\u5143\\u7D20\nfirstSet.insert(\"funny\")\n\n// \\u5220\\u9664\\u96C6\\u5408\\u7684\\u5143\\u7D20\nfirstSet.remove(\"manon\")\n\n// \\u5408\\u5E76\\u96C6\\u5408\nfirstSet.union(secondSet)\n`)),mdx(\"h3\",null,\"Tuple\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"Swift \\u4E2D\\u7684 tuple \\u5141\\u8BB8\\u5B58\\u50A8\\u4E0D\\u540C\\u7C7B\\u578B\\u7684\\u56FA\\u5B9A\\u6570\\u91CF\\u7684\\u503C\\u3002\\u521B\\u5EFA\\u5143\\u7EC4\\u540E\\uFF0C\\u4E0D\\u80FD\\u4ECE\\u8BE5\\u5143\\u7EC4\\u4E2D\\u6DFB\\u52A0\\u6216\\u5220\\u9664\\u503C\\u3002\")),mdx(\"pre\",null,mdx(\"code\",i({parentName:\"pre\"},{className:\"language-swift\"}),`// \\u521B\\u5EFAtuple\nlet firstTuple = (name: \"manon\", level: 9000, Nationality: \"china\")\n\n// \\u8BBF\\u95EEtuple\nfirstTuple.name // manon\n`)),mdx(\"h3\",null,\"Dictionary\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"Swift \\u5B57\\u5178\\u7528\\u6765\\u5B58\\u50A8\\u65E0\\u5E8F\\u7684\\u76F8\\u540C\\u7C7B\\u578B\\u6570\\u636E\\u7684\\u96C6\\u5408\\uFF0CSwift \\u5B57\\u5178\\u4F1A\\u5F3A\\u5236\\u68C0\\u6D4B\\u5143\\u7D20\\u7684\\u7C7B\\u578B\\uFF0C\\u5982\\u679C\\u7C7B\\u578B\\u4E0D\\u540C\\u5219\\u4F1A\\u62A5\\u9519\\u3002 Swift \\u5B57\\u5178\\u6BCF\\u4E2A\\u503C\\uFF08value\\uFF09\\u90FD\\u5173\\u8054\\u552F\\u4E00\\u7684\\u952E\\uFF08key\\uFF09\\uFF0C\\u952E\\u4F5C\\u4E3A\\u5B57\\u5178\\u4E2D\\u7684\\u8FD9\\u4E2A\\u503C\\u6570\\u636E\\u7684\\u6807\\u8BC6\\u7B26\\u3002\\u548C\\u6570\\u7EC4\\u4E2D\\u7684\\u6570\\u636E\\u9879\\u4E0D\\u540C\\uFF0C\\u5B57\\u5178\\u4E2D\\u7684\\u6570\\u636E\\u9879\\u5E76\\u6CA1\\u6709\\u5177\\u4F53\\u987A\\u5E8F\\u3002\\u6211\\u4EEC\\u5728\\u9700\\u8981\\u901A\\u8FC7\\u6807\\u8BC6\\u7B26\\uFF08\\u952E\\uFF09\\u8BBF\\u95EE\\u6570\\u636E\\u7684\\u65F6\\u5019\\u4F7F\\u7528\\u5B57\\u5178\\uFF0C\\u8FD9\\u79CD\\u65B9\\u6CD5\\u5F88\\u5927\\u7A0B\\u5EA6\\u4E0A\\u548C\\u6211\\u4EEC\\u5728\\u73B0\\u5B9E\\u4E16\\u754C\\u4E2D\\u4F7F\\u7528\\u5B57\\u5178\\u67E5\\u5B57\\u4E49\\u7684\\u65B9\\u6CD5\\u4E00\\u6837\\u3002 Swift \\u5B57\\u5178\\u7684 key \\u6CA1\\u6709\\u7C7B\\u578B\\u9650\\u5236\\u53EF\\u4EE5\\u662F\\u6574\\u578B\\u6216\\u5B57\\u7B26\\u4E32\\uFF0C\\u4F46\\u5FC5\\u987B\\u662F\\u552F\\u4E00\\u7684\\u3002\")),mdx(\"pre\",null,mdx(\"code\",i({parentName:\"pre\"},{className:\"language-swift\"}),`// \\u521B\\u5EFA\\u5B57\\u5178\nlet firstDictionary = [\"Gintama\" : \"Sakata Gintoki\", \"Haikyuu\" : \"Shoyo Hinata\"]\n\n// \\u8BBF\\u95EE\\u5B57\\u5178\nfirstDictionary[\"Gintama\"] // Sakata Gintoki\n\n// \\u4FEE\\u6539\\u5B57\\u5178\nfirstDictionary.updateValue(\"manon\",forKey:Gintama)\n// \\u6216\nfirstDictionary[\"Gintama\"] = \"manon\"\n\n// \\u5220\\u9664\\u5B57\\u5178\\u5143\\u7D20\nfirstDictionary.removeValue(\"Gintama\")\n\n// \\u904D\\u5386\\u5B57\\u5178\nfor (key,value) in firstDictionary{\n    print(\"\\u5B57\\u5178 key \\\\(key) -  \\u5B57\\u5178 value \\\\(value)\")\n}\n\n// \\u8BA1\\u7B97\\u5B57\\u5178\\u957F\\u5EA6\nfirstDictionary.count\n\n// \\u5224\\u65AD\\u5B57\\u5178\\u662F\\u5426\\u4E3A\\u7A7A\nfirstDictionary.isEmpty\n`)),mdx(\"h3\",null,\"Enums\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"\\u6839\\u636E Swift \\u6587\\u6863\\u679A\\u4E3E\\u7684\\u5B9A\\u4E49\\uFF0C\\u5B83\\u662F\\u201C\\u4E00\\u7EC4\\u76F8\\u5173\\u503C\\u7684\\u516C\\u5171\\u7C7B\\u578B\\uFF0C\\u4F7F\\u60A8\\u80FD\\u591F\\u5728\\u4EE3\\u7801\\u4E2D\\u4EE5\\u7C7B\\u578B\\u5B89\\u5168\\u7684\\u65B9\\u5F0F\\u5904\\u7406\\u8FD9\\u4E9B\\u503C\\u201D\\u3002\\u53EF\\u4EE5\\u628A\\u5B83\\u770B\\u4F5C\\u662F\\u4E00\\u79CD\\u7279\\u522B\\u7528\\u4E8E switch/conditions \\u7684\\u53D8\\u91CF\\u7C7B\\u578B\\u3002\")),mdx(\"pre\",null,mdx(\"code\",i({parentName:\"pre\"},{className:\"language-swift\"}),`// \\u521B\\u5EFAEnums\nenum enumname {\n   // \\u679A\\u4E3E\\u5B9A\\u4E49\\u653E\\u5728\\u8FD9\\u91CC\n}\n\n// \\u5B9E\\u4F8B\n\nimport Cocoa\n\nenum DaysofaWeek {\n    case Sunday\n    case Monday\n    case TUESDAY\n    case WEDNESDAY\n    case THURSDAY\n    case FRIDAY\n    case Saturday\n}\n\nvar weekDay = DaysofaWeek.THURSDAY\nweekDay = .THURSDAY\nswitch weekDay{\n    case .Sunday:\n        print(\"\\u661F\\u671F\\u5929\")\n    case .Monday:\n        print(\"\\u661F\\u671F\\u4E00\")\n    case .TUESDAY:\n        print(\"\\u661F\\u671F\\u4E8C\")\n    case .WEDNESDAY:\n        print(\"\\u661F\\u671F\\u4E09\")\n    case .THURSDAY:\n        print(\"\\u661F\\u671F\\u56DB\")\n    case .FRIDAY:\n        print(\"\\u661F\\u671F\\u4E94\")\n    case .Saturday:\n        print(\"\\u661F\\u671F\\u516D\")\n}\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{"date":"April 3, 2021","title":"数组、字典、集合、枚举","tags":["swift"],"description":"取得成功的秘诀就是开始","fromNow":"8 months ago"}},"randomPost":[{"data":{"date":"January 19, 2020","title":"使用js获取位置","tags":["i18n","javascript"],"fromNow":"2 years ago"},"content":"\n![quick-tip-detecting-your-location-with-javascript](https://cdn.jsdelivr.net/gh/funnypan/pics@master/images/20190121163457.png)\n\n首先，我们使用 caniuse-cmd 查看下 geolocation 的兼容性,几乎所有的现代浏览器都支持 geolocation\n\nGeolocation 通过使用 GPS、WIFI、IP 地址检测自己的位置信息，开发人员可使用这些信息给用户提供更好的搜索建议，比如附近的便利店，并实现互动。\n\n本地资源（location sources） JavaScript 提供了一个简单，但功能强大的工具来定位设备的地理定位 API 的形式。它包括一个小的一组易于使用的方法，可以获得设备的位置：\n\nGPS-主要在移动设备，精确到 10 米 WIFI-几乎所有的联网设备 IP-仅限于区域，备选方案采用哪种方案取决于浏览器支持，一般情况下 WIFI 快于 GPS 快于 IP\n\n使用 geolocation api 通过使用 caniuse-cmd，我们知道大部分浏览器支持 geolocation，但我们需要做好判断，请确保可以正常使用 geolocation\n\n```javascript\nif (navigator.geolocation) {\n  // 支持geolocation\n} else {\n  // 不支持geolocation\n}\n```\n\nnavigator.geolocation 有如下几个方法：\n\n- Geolocation.getCurrentPosition() //获取当前位置\n- Geolocation.watchPosition() //监测定位\n- Geolocation.clearWatch() //清除监测\n\ngetCurrentPosition() and watchPosition() methods 的工作方式是基本相同的。这两方法目的基本相同，都是用来去获取 device 的位置信息吧， 都是以一个异步的工作形式来获取位置信息的， 他们也都依赖于一个 attempt call 的结果\n\n```javascript\nnavigator.geolocation.getCurrentPosition(\n\n    // 位置获取成功\n    function(position) {\n\n        position = {\n            coords: {\n                latitude - //纬度.\n                longitude - //经度.\n                altitude - //高度.\n                accuracy - //精确度.\n                altitudeAccuracy - //高度的准确性.\n                heading - //.\n                speed - //.\n            }\n            timestamp - //时间戳.\n        }\n\n    },\n\n    // 位置获取失败\n    function(error){\n\n    }\n);\n```\n\n如上，使用 geolocation api 很简单，只需要正确调用方法，等待返回坐标即可。\n\n用户权限由于 geolocation api 会暴露用户信息，所以当应用程序访问的时候，将以弹窗请求用户操作，如下\n\n主机安全另一个保护措施是使用 HTTPS 连接。由于一个新的网络安全策略，谷歌浏览器（桌面版和手机版）不再允许非安全的主机上运行的 geolocation api。使用 https 可以最大限度的减少数据信息的盗用或被滥用的风险。\n\n这里查看更多关于这个问题。\n\n```javascript\n一个简单的Demo;\nfindMeButton.on('click', function () {\n  navigator.geolocation.getCurrentPosition(function (position) {\n    // Get the coordinates of the current position.\n    var lat = position.coords.latitude;\n    var lng = position.coords.longitude;\n\n    // Create a new map and place a marker at the device location.\n    var map = new GMaps({\n      el: '#map',\n      lat: lat,\n      lng: lng,\n    });\n\n    map.addMarker({\n      lat: lat,\n      lng: lng,\n    });\n  });\n});\n```\n\n[在线 demo](https://jsfiddle.net/dannymarkov/ubrvm4ao/ 'https://jsfiddle.net/dannymarkov/ubrvm4ao/')\n\n翻译自[Detecting Your Location With JavaScript](http://tutorialzine.com/2016/06/quick-tip-detecting-your-location-with-javascript/ 'http://tutorialzine.com/2016/06/quick-tip-detecting-your-location-with-javascript/')\n","slug":"translate/使用js获取位置"},{"data":{"date":"May 8, 2018","title":"Symbol","tags":["javascript"],"fromNow":"4 years ago"},"content":"","slug":"javascript/base/Symbol"},{"data":{"date":"December 19, 2019","title":"JS概念扩展","tags":["i18n","javascript"],"fromNow":"2 years ago"},"content":"\n## 原始值和引用值\n\n> 了解如何将对象，数组和函数复制并传递给函数。要知道引用时复制了什么。理解原始值是通过复制值来进行复制和传递的。\n\n## 作用域\n\n> 了解全局作用域，函数作用域和块作级用域之间的区别。了解哪些变量在哪些地方可用。知道 JavaScript 引擎如何执行变量查找。\n\n## 提升\n\n> 理解变量和函数声明会被提升到可用作用域的顶部。 理解函数表达式不会被提升。\n\n## 闭包\n\n> 知道一个函数保留，并且可以访问创建它的作用域。知道这些可以让我们做什么，例如数据隐藏、内存化以及动态函数生成。\n\n## this\n\n> 知道 this 绑定的规则。知道它的工作机制，知道如何弄清楚在一个函数中它等同于什么，或者说指向什么？并知道为什么它是有用的。\n\n## new\n\n> 知道它如何与面向对象编程相关。知道用 new 调用的函数会发生什么。理解如何使用 new 来继承函数 prototype(原型) 属性生成的对象。\n\n## apply、call、bind\n\n> 知道这些函数的工作机制。 知道如何使用它们。了解它们对 this 做了什么。\n\n## 原型和继承\n\n> 了解 JavaScript 中的继承是通过 [[Prototype]] 链实现的。了解如何通过函数和对象来设置继承，以及 new 是如何帮助我们实现的。知道 **proto** 和 prototype 属性是什么，以及他们的作用。\n\n## 异步和同步\n\n> 理解事件循环，理解浏览器是如何处理用户输入、Web 请求和一般事件的。知道如何识别并正确实现异步代码。理解 JavaScript 中异步和单线程分别是怎样的。\n\n## 高阶函数\n\n> 理解这些函数是 JavaScript 中的一等公民，以及这意味着什么。 知道从另一个函数返回一个函数是完全合法的。 了解闭包和更高阶函数允许我们使用的技巧\n","slug":"translate/概念扩展"},{"data":{"date":"December 1, 2021","title":"File Management","tags":["python"],"description":"大多数程序需要操作文件，比如读写文件，创建文件夹，删除文件等等。","fromNow":"13 days ago"},"content":"\n## 文件读写\n\n打开文件\n\n```python\nf=open('test.txt','rt')\ng=open('test.txt','wt')\n```\n\n读取所有内容\n\n```python\ndata=f.read()\ndata=f.read([maxbytes])\n```\n\n写入内容\n\n```python\ng.write('hello world')\n```\n\n关闭文件\n\n```python\nf.close()\ng.close()\n```\n\n文件应当在使用完毕后关闭，否则会导致内存泄漏。使用 with 语句可以自动关闭文件。\n\n离开 with 语句后，文件会自动关闭。\n\n```python\nwith open(filename, 'rt') as file:\n    # Use the file `file`\n    ...\n    # No need to close explicitly\n...statements\n```\n\n使用`with`语句读取挣个文件\n\n```python\nwith open('foo.txt', 'rt') as file:\n    data = file.read()\n```\n\n使用`with`语句按行读取文件\n\n```python\nwith open('foo.txt', 'rt') as file:\n    for line in file:\n```\n\n使用`with`语句写入文件\n\n```python\nwith open('outfile', 'wt') as out:\n    out.write('Hello World\\n')\n```\n\n重定向`print`函数\n\n```python\nwith open('foo.txt', 'wt') as file:\n    print('hello world', file=file)\n```\n","slug":"python/1.5-file"},{"data":{"date":"February 19, 2020","title":"数组去重","tags":["i18n","javascript"],"fromNow":"2 years ago"},"content":"\n## 3 种数组去重方法\n\n![](https://cdn.jsdelivr.net/gh/funnypan/pics@master/img/20200413152655.png)\n\n## Set\n\n```javascript\nconst arr=[1,2,🤩,🤩,🤩,2,1]\nconsole.log([...new Set(arr)])\n```\n\n## filter\n\n```javascript\nconst arr=[1,2,🤩,🤩,🤩,2,1]\narr.filter((item,index)=>arr.indexOf(item)===index)\n```\n\n## reduce\n\n```javascript\nconst arr=[1,2,🤩,🤩,🤩,2,1]\narr.reduce((unique,item)=>unique.includes(item)?unique:[...unique,item],[])\n```\n","slug":"translate/数组去重"},{"data":{"date":"November 20, 2021","title":"如何在 vue 中使用 Debounce、Throttle","tags":["vue","javascript"],"description":"如input、resize、scroll、intersection observer 等事件可能发生得非常频繁，例如每秒发生几次，因此调用一个动作，比如对每个事件发出读取请求，并不是一个明智的方法。","fromNow":"25 days ago"},"content":"\n## 为什么要使用 debounce 和 throttle\n\n防抖和节流就是针对响应跟不上触发频率这类问题的两种解决方案。在给 DOM 绑定事件时，有些事件我们是无法控制触发频率的。 如鼠标移动事件 onmousemove, 滚动滚动条事件 onscroll，窗口大小改变事件 onresize，瞬间的操作都会导致这些事件会被高频触发。 如果事件的回调函数较为复杂，就会导致响应跟不上触发，出现页面卡顿，假死现象。 在实时检查输入时，如果我们绑定 onkeyup 事件发请求去服务端检查，用户输入过程中，事件的触发频率也会很高，会导致大量的请求发出，响应速度会大大跟不上触发。\n\n## 在 watcher 中使用 debounce\n\n1. 在`created`生命周期将`this.debounce`绑定到`this`上，这样`this.debounce`就可以在`created`生命周期中使用。\n2. 在`watch`函数中，使用`this.debounce`调用`debounce`函数，并传入`this.debounce`的回调函数。\n3. 在事件销毁前，使用`this.debounce`调用`clear`函数，清除定时器。\n\n```html\n<template>\n  <input v-model=\"value\" type=\"text\" />\n  <p>{{ value }}</p>\n</template>\n<script>\n  import debounce from 'lodash.debounce';\n  export default {\n    data() {\n      return {\n        value: '',\n      };\n    },\n    watch: {\n      value(...args) {\n        this.debouncedWatch(...args);\n      },\n    },\n    created() {\n      this.debouncedWatch = debounce((newValue, oldValue) => {\n        console.log('New value:', newValue);\n      }, 500);\n    },\n    beforeUnmount() {\n      this.debouncedWatch.cancel();\n    },\n  };\n</script>\n```\n\n## 使用 debounce 处理事件\n\n```html\n<template>\n  <input v-on:input=\"debouncedHandler\" type=\"text\" />\n</template>\n<script>\n  import debounce from 'lodash.debounce';\n  export default {\n    created() {\n      this.debouncedHandler = debounce((event) => {\n        console.log('New value:', event.target.value);\n      }, 500);\n    },\n    beforeUnmount() {\n      this.debouncedHandler.cancel();\n    },\n  };\n</script>\n```\n\n为什么不适用`debounce`或`throttle`直接绑定函数呢？比如：\n\n```html\n<template>\n  <input v-on:input=\"debouncedHandler\" type=\"text\" />\n</template>\n<script>\n  import debounce from 'lodash.debounce';\n  export default {\n    methods: {\n      // Don't do this!\n      debouncedHandler: debounce(function (event) {\n        console.log('New value:', event.target.value);\n      }, 500),\n    },\n  };\n</script>\n```\n\n**使用`export default { ... }`从组件导出的 options 对象，包括方法，将被组件的所有实例重用。如果网页中有 2 个或更多的组件实例，那么所有的组件都将使用相同的`debounce`或`throttle`的函数方法。**\n\n## 总结\n\n在 `vue` 中使用 `debounce` 和 `throttle` 函数，应该在 `created` 和 `beforeUnmount` 生命周期中使用，而不是在 `watch` 中使用。\n\n```html\n<template>\n  <input v-on:input=\"debouncedHandler\" type=\"text\" />\n</template>\n<script>\n  export default {\n    created() {\n      this.debouncedCallback = debounce((...args) => {\n        // The debounced\n        callback;\n      }, 500);\n    },\n    watch: {\n      value(...args) {\n        this.debouncedCallback(...args);\n      },\n    },\n  };\n</script>\n```\n","slug":"vue/debounce-throttle"}]},"__N_SSG":true}