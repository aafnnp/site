---
date: '2022-05-30 15:02:31'
title: 'Postgresql - Select'
tags: [postgresql, sql]
description: 如何从数据库查询数据
cover: https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/0dXVtX.jpg
---

[示例数据库](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/dvdrental.zip)

使用数据库时，最常见的就是使用`SELECT`语句来查询数据。

`SELECT`语句是 Postgresql 最复杂的一种查询语句，它可以查询数据库中的所有数据，也可以查询指定的数据。

- `DISTINCT`查询不同行的数据
- `ORDER BY`排序查询结果
- `WHERE`条件过滤查询结果
- `LIMIT`或`FETCH`限制查询结果的数量
- `GROUP BY`分组查询结果
- `HAVING`条件过滤分组查询结果
- `INNER JOIN`内连接查询结果
- `LEFT JOIN`左连接查询结果
- `FULL OUTER JOIN`全连接查询结果
- `CROSS JOIN`交叉连接查询结果
- `UNION`查询结果的并集
- `INTERSECT`查询结果的交集
- `EXCEPT`查询结果的差集

## SELECT 语法

`SELECT [select_list] FROM [table_name]`

- select_list:指定一个或多个查询字段，也可以使用`*`来查询所有字段
- table_name:指定查询的表名

## SELECT 语句的示例

#### 查询所有客户的名字

```sql
SELECT first_name FROM customer;
```

![OZfMMd](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/OZfMMd.jpg)

> `;`表示语句结束

#### 查询多个字段

```sql
SELECT first_name, last_name, email FROM customer;
```

![6Snfin](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/6Snfin.jpg)

#### 查询所有数据

```sql
SELECT * FROM customer;
```

> 尽量避免使用`*`，因为它会查询所有字段，会影响性能。

#### 表达式查询

使用`||`连接姓名查询

```sql
SELECT first_name || ' ' || last_name, email FROM customer;
```

![UbI7CW](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/UbI7CW.jpg)

```sql
SELECT 5*3;
```

![eCZOtM](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/eCZOtM.jpg)
