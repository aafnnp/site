---
date: '2022-08-23 22:36:24'
title: 'Chromeæ’ä»¶å¼€å‘ - Popup extension'
tags: [chrome]
description: åŸºäºreactã€tailwindcsså¼€å‘è‡ªå·±çš„chromeæ’ä»¶
cover: https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/f1l2Nk.jpg
---

åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä»¥ä¸‹å‡ ä¸ªå…³äº chrome æ’ä»¶å¼€å‘çš„æ–‡ç« ï¼š

- [First extension](/blog/translate/build-chrome-extensions/first-extension)
- [New Tab](/blog/translate/build-chrome-extensions/new-tab)
- [Add Tailwind](/blog/translate/build-chrome-extensions/add-tailwind)
- [Add React](/blog/translate/build-chrome-extensions/spicing-with-react)

è¿™ç¯‡æ–‡ç« å­¦ä¹ åˆ›å»ºå¼¹çª—æ’ä»¶ï¼ˆç‚¹å‡»æ’ä»¶å›¾æ ‡æ—¶å‡ºç°ï¼‰

![f1l2Nk](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/f1l2Nk.jpg)

## ç»“æ„

åˆ›å»ºç›®å½•ï¼Œç„¶ååˆå§‹åŒ–

```bash
mkdir popup-extension
cd popup-extension
npm init -y
```

å®‰è£…ä¾èµ–

```bash
npm i react react-dom tailwindcss vite

npm i -D @vitejs/plugin-react postcss-cli

npx tailwind init
```

- [Reactã€React-dom](/blog/translate/build-chrome-extensions/spicing-with-react) for framework
- [Tailwind](/blog/translate/build-chrome-extensions/add-tailwind) for css
- [vite](/blog/translate/build-chrome-extensions/parcel-to-vite) for build

`npx tailwind init`å°†ä¼šåˆ›å»º`tailwind.config.js`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```js
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ['src/*.jsx'],
  theme: {
    extend: {}
  },
  variants: {
    extend: {}
  },
  plugins: []
}
```

åˆ›å»º`.postcssrc.json`

```json
{
  "plugins": {
    "tailwindcss": {}
  }
}
```

åˆ›å»º`css/style.css`

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

åˆ›å»º`vite.config.js`

```js
import {defineConfig} from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()]
})
```

ä¿®æ”¹`package.json`ï¼Œæ·»åŠ å¦‚ä¸‹`scripts`

```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  }
}
```

åˆ›å»º`public/manifest.json`

```json
{
  "manifest_version": 3,
  "version": "1.0",
  "name": "Popup Extension",
  "description": "A demo popup experience",
  "action": {
    "default_icon": "icons/icon-48.png",
    "default_popup": "index.html"
  },
  "icons": {
    "48": "icons/icon-48.png"
  }
}
```

åˆ›å»º`index.html`

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>DDT Popup</title>
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
  </head>
  <body>
    Hello world ğŸ‘‹
  </body>
</html>
```

å‡å¦‚ç°åœ¨æ„å»ºå¹¶åŠ è½½æ’ä»¶ï¼Œå½“å‰ Popup æ’ä»¶å°†ä¼šå±•ç¤ºå¦‚ä¸‹ï¼š

![tnq7AB](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/tnq7AB.jpg)

æ·»åŠ `Tailwind`ã€`React`ï¼Œä¿®æ”¹`index.html`

```html
<body>
  <div id="app"></div>
  <script type="module" src="src/index.jsx"></script>
</body>
```

åˆ›å»º`src`ï¼Œå¹¶åœ¨`src`ä¸‹æ·»åŠ `index.jsx`

```jsx
import ReactDOM from 'react-dom'
import {App} from './App'

const app = document.getElementById('app')
ReactDOM.render(<App />, app)
```

åˆ›å»º`App.jsx`

```jsx
import Counter from './Counter'

export function App() {
  return (
    <div className="flex flex-col items-center justify-center w-screen h-screen bg-indigo-400 text-6xl font-bold text-white">
      <p>Welcome ğŸ‘‹</p>
      <br />
      <Counter />
    </div>
  )
}
```

åˆ›å»º`Counter.jsx`

```jsx
import {useState} from 'react'

export default function Counter() {
  const [counter, setCounter] = useState(0)
  const increase = () => setCounter((count) => count + 1)
  const decrease = () => setCounter((count) => count - 1)
  return (
    <div>
      <button onClick={decrease}>-</button>
      <span className="px-4">{counter}</span>
      <button onClick={increase}>+</button>
    </div>
  )
}
```

æ„å»ºåï¼Œç°åœ¨çš„ Popup æ’ä»¶å±•ç¤ºå¦‚ä¸‹ï¼š

![Qk0rJH](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/Qk0rJH.jpg)

emmï¼Œå®½åº¦ä¸å¤Ÿï¼Œä¿®æ”¹`style.css`

```css
#app {
  width: 350px;
}
```

![TAwxHm](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/TAwxHm.jpg)

## Source Code

[ã€Source Codeã€‘](https://github.com/rebelchris/popup-extension)
