---
date: 2020-05-24
title: Go - Packages
tags: [go]
---

在 Go 语言中，Packages 是一种组织代码的方式。一个 package 是一组相关的 Go 文件，它们共享同一个包名。每个 Go 源文件都属于一个 package，而且在文件的开头都要声明所属的 package。

一个 package 可以包含多个 Go 文件，但是它们必须都属于同一个目录。Go 语言提倡每个 package 只做一件事情，并且把它做好。这样可以提高代码的可读性、可维护性和可复用性。

一个 package 可以被其他 package 导入并使用。在一个 package 中，可以使用 import 语句来导入其他 package。导入的 package 可以是标准库中的 package，也可以是其他第三方库或者自己编写的 package。

下面是一个简单的示例，展示了如何定义和使用 package。

我们新建一个文件夹，命名为 mymath，然后在该文件夹下新建两个 Go 文件，分别为：

math.go：定义了一个名为 Sum 的函数

```go
package mymath

func Sum(x, y int) int {
    return x + y
}
```

main.go：使用了 Sum 函数

```go
package main

import (
    "fmt"
    "mymath"
)

func main() {
    x := 3
    y := 4
    sum := mymath.Sum(x, y)
    fmt.Printf("%d + %d = %d\n", x, y, sum)
}
```

在 main.go 中，我们通过 import 语句导入了 mymath package，并调用了其中的 Sum 函数。

在命令行中进入 mymath 目录，然后使用 go run 命令运行 main.go 文件。可以看到程序输出了 3 + 4 = 7，证明了我们成功使用了 mymath package 中的函数。

## Package 特性

- 可以使用不同的可见性（Visibility）规则来限制对 package 中函数和变量的访问。Go 语言中，以大写字母开头的函数和变量是公共的，其他的是私有的，只能在同一个 package 中使用。
- 可以使用 init 函数来进行 package 的初始化操作。每个 package 中可以定义一个或多个 init 函数，这些函数在程序启动时自动被调用。
- Go 语言标准库中提供了大量的 package，例如 net 包用于网络编程、http 包用于 HTTP 服务器和客户端、os 包用于操作系统相关的功能等等。
- 有些 package 可以通过命令行工具 go get 进行安装。例如，如果要使用一个名为 github.com/user/repo 的第三方库，可以使用以下命令进行安装：

```bash
go get github.com/user/repo
```

这将自动下载、编译并安装该库。

Packages 是 Go 语言中组织代码的一种方式，可以提高代码的可读性、可维护性和可复用性。除了基本的使用方法，还有很多特性和用法需要掌握，可以通过阅读官方文档和相关书籍来深入了解。
