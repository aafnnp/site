---
date: '2022-03-01'
title: 'Swift - åŸºç¡€çŸ¥è¯†'
tags: [swift]
description: Swiftæ˜¯ä¸€ç§é€‚ç”¨äºŽiOSã€macOSã€watchOSå’ŒtvOSåº”ç”¨ç¨‹åºçš„ç¼–ç¨‹è¯­è¨€ã€‚
cover: https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/LExMnt.jpg
---

Swift æ˜¯ä¸€ç§é€‚ç”¨äºŽ iOSã€macOSã€watchOS å’Œ Apple tvOS app å¼€å‘çš„æ–°ç¼–ç¨‹è¯­è¨€ã€‚å°½ç®¡å¦‚æ­¤ï¼ŒSwiftçš„è®¸å¤šéƒ¨åˆ†å°†ä»Žæ‚¨åœ¨Cå’ŒObjective-Cä¸­å¼€å‘çš„ç»éªŒä¸­ç†Ÿæ‚‰ã€‚

Swiftæä¾›æ‰€æœ‰åŸºæœ¬Cå’ŒObjective-Cç±»åž‹çš„ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ç”¨äºŽæ•´æ•°çš„Intã€ç”¨äºŽæµ®ç‚¹å€¼çš„Doubleå’ŒFloatã€ç”¨äºŽå¸ƒå°”å€¼çš„Boolå’Œç”¨äºŽæ–‡æœ¬æ•°æ®çš„Stringã€‚Swiftè¿˜æä¾›äº†ä¸‰ç§ä¸»è¦é›†åˆç±»åž‹çš„å¼ºå¤§ç‰ˆæœ¬ï¼Œä¾‹å¦‚Arrayã€Setå’ŒDictionaryï¼Œå¦‚Collection Typesä¸­æ‰€è¿°ã€‚

ä¸ŽCä¸€æ ·ï¼ŒSwiftä½¿ç”¨å˜é‡é€šè¿‡æ ‡è¯†åç§°å­˜å‚¨å’Œå¼•ç”¨å€¼ã€‚Swiftè¿˜å¹¿æ³›ä½¿ç”¨å…¶å€¼æ— æ³•æ›´æ”¹çš„å˜é‡ã€‚è¿™äº›è¢«ç§°ä¸ºå¸¸æ•°ï¼Œæ¯”Cä¸­çš„å¸¸æ•°å¼ºå¤§å¾—å¤šã€‚å½“æ‚¨å¤„ç†ä¸éœ€è¦æ›´æ”¹çš„å€¼æ—¶ï¼Œæ•´ä¸ªSwiftéƒ½ä½¿ç”¨å¸¸é‡ï¼Œä»¥ä½¿ä»£ç çš„æ„å›¾æ›´å®‰å…¨ã€æ›´æ¸…æ™°ã€‚

é™¤äº†ç†Ÿæ‚‰çš„ç±»åž‹å¤–ï¼ŒSwiftè¿˜å¼•å…¥äº†Objective-Cä¸­æ²¡æœ‰çš„é«˜çº§ç±»åž‹ï¼Œä¾‹å¦‚å…ƒç»„ã€‚å…ƒç»„ä½¿æ‚¨èƒ½å¤Ÿåˆ›å»ºå’Œä¼ é€’å€¼åˆ†ç»„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å…ƒç»„å°†å‡½æ•°ä¸­çš„å¤šä¸ªå€¼ä½œä¸ºå•ä¸ªå¤åˆå€¼è¿”å›žã€‚

Swiftè¿˜å¼•å…¥äº†å¯é€‰ç±»åž‹ï¼Œç”¨äºŽå¤„ç†ç¼ºå°‘å€¼çš„æƒ…å†µã€‚å¯é€‰çš„è¯´â€œæœ‰ä¸€ä¸ªå€¼ï¼Œå®ƒç­‰äºŽxâ€æˆ–â€œæ ¹æœ¬æ²¡æœ‰å€¼â€ã€‚ä½¿ç”¨å¯é€‰é€‰é¡¹ç±»ä¼¼äºŽåœ¨Objective-Cä¸­ä½¿ç”¨å¸¦æœ‰æŒ‡é’ˆçš„nilï¼Œä½†å®ƒä»¬é€‚ç”¨äºŽä»»ä½•ç±»åž‹ï¼Œè€Œä¸ä»…ä»…æ˜¯ç±»ã€‚å¯é€‰é€‰é¡¹ä¸ä»…æ¯”Objective-Cä¸­çš„nilæŒ‡é’ˆæ›´å®‰å…¨ã€æ›´å…·è¡¨çŽ°åŠ›ï¼Œè€Œä¸”æ˜¯Swiftè®¸å¤šæœ€å¼ºå¤§åŠŸèƒ½çš„æ ¸å¿ƒã€‚

Swiftæ˜¯ä¸€ç§ç±»åž‹å®‰å…¨çš„è¯­è¨€ï¼Œè¿™æ„å‘³ç€è¯¥è¯­è¨€å¯ä»¥å¸®åŠ©æ‚¨æ¸…æ¥šåœ°äº†è§£ä»£ç å¯ä»¥ä½¿ç”¨çš„å€¼ç±»åž‹ã€‚å¦‚æžœæ‚¨çš„éƒ¨åˆ†ä»£ç éœ€è¦Stringï¼Œç±»åž‹å®‰å…¨æ€§ä¼šé˜»æ­¢æ‚¨é”™è¯¯åœ°å°†å…¶ä¼ é€’ç»™Intã€‚åŒæ ·ï¼Œç±»åž‹å®‰å…¨å¯é˜²æ­¢æ‚¨æ„å¤–åœ°å°†å¯é€‰Stringä¼ é€’ç»™éœ€è¦éžå¯é€‰Stringçš„ä»£ç ã€‚ç±»åž‹å®‰å…¨å¯å¸®åŠ©æ‚¨å°½æ—©åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ•èŽ·å’Œä¿®å¤é”™è¯¯ã€‚

## å¸¸é‡å’Œå˜é‡

å¸¸é‡å’Œå˜é‡å°†å€¼åˆ†é…ç»™ç‰¹å®šçš„æ ‡è¯†ç¬¦ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥åœ¨ä»£ç ä¸­å¼•ç”¨å®ƒä»¬ã€‚å¸¸é‡çš„å€¼ä¸€æ—¦è®¾ç½®å°±æ— æ³•æ›´æ”¹ï¼Œè€Œå˜é‡çš„å€¼å¯ä»¥æ›´æ”¹ã€‚

### å£°æ˜Žå¸¸é‡å’Œå˜é‡

æ‚¨å¯ä»¥ä½¿ç”¨letå…³é”®å­—å£°æ˜Žå¸¸é‡ï¼Œä½¿ç”¨varå…³é”®å­—å£°æ˜Žå˜é‡ã€‚å¸¸é‡å’Œå˜é‡çš„åç§°å¯ä»¥åŒ…å«ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬Unicodeå­—ç¬¦ï¼š

```swift
let maximumNumberOfLoginAttempts = 10
var currentLoginAttempt = 0
```

å¸¸é‡å’Œå˜é‡çš„åç§°ä¸èƒ½åŒ…å«ç©ºæ ¼ã€æ•°å­¦ç¬¦å·ã€ç®­å¤´ã€ä¿ç•™çš„ï¼ˆæˆ–è€…éžæ³•çš„ï¼‰Unicodeä»£ç ç‚¹ã€è¿žçº¿å’Œåˆ¶è¡¨ç¬¦ã€‚ä¹Ÿä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä½†å¯ä»¥åœ¨åç§°çš„å…¶ä»–åœ°æ–¹åŒ…å«æ•°å­—ã€‚

æ‰“å°å¸¸é‡å’Œå˜é‡çš„å€¼ï¼š

```swift
print(maximumNumberOfLoginAttempts)
print(currentLoginAttempt)
```

ä½¿ç”¨åæ–œæ ï¼ˆ\ï¼‰å°†å¸¸é‡å’Œå˜é‡çš„åç§°æ”¾åœ¨æ‹¬å·ä¸­ï¼Œä»¥åœ¨å­—ç¬¦ä¸²æ’å€¼ä¸­åŒ…å«å®ƒä»¬çš„å½“å‰å€¼ï¼š

```swift
print("Maximum number of login attempts is \(maximumNumberOfLoginAttempts)")
```

### ç±»åž‹æ ‡æ³¨

æ‚¨å¯ä»¥åœ¨å£°æ˜Žå¸¸é‡æˆ–å˜é‡æ—¶æä¾›ç±»åž‹æ ‡æ³¨ï¼ˆtype annotationï¼‰ï¼Œä»¥æ˜Žç¡®å¸¸é‡æˆ–å˜é‡å¯ä»¥å­˜å‚¨çš„å€¼çš„ç±»åž‹ã€‚åœ¨ç±»åž‹æ ‡æ³¨åŽé¢åŠ ä¸Šä¸€ä¸ªå†’å·å’Œç©ºæ ¼ï¼Œç„¶åŽåŠ ä¸Šç±»åž‹åç§°ï¼Œä»¥æŒ‡å®šå¸¸é‡æˆ–å˜é‡å¯ä»¥å­˜å‚¨çš„å€¼çš„ç±»åž‹ï¼š

```swift
var welcomeMessage: String
```

ç±»åž‹æ ‡æ³¨æ˜¯ä¸€ç§ä¸ºå¸¸é‡æˆ–å˜é‡æä¾›å…³äºŽå…¶å…è®¸å­˜å‚¨çš„å€¼ç±»åž‹çš„æ–¹æ³•ã€‚å®ƒä¸ä¼šä¸ºå¸¸é‡æˆ–å˜é‡çš„å€¼åˆ†é…ä»»ä½•å®žé™…çš„å€¼ï¼›å®ƒåªæ˜¯è¯´æ˜Žäº†å¸¸é‡æˆ–å˜é‡å¯ä»¥å­˜å‚¨çš„å€¼çš„ç±»åž‹ã€‚å¦‚æžœæ‚¨åœ¨å£°æ˜Žå¸¸é‡æˆ–å˜é‡æ—¶æä¾›äº†ç±»åž‹æ ‡æ³¨ï¼Œæ‚¨å¯ä»¥åœ¨è¯¥å¸¸é‡æˆ–å˜é‡çš„èµ‹å€¼è¯­å¥ä¸­çœç•¥å¯¹å…¶ç±»åž‹çš„è¯´æ˜Žã€‚ç±»åž‹æ ‡æ³¨çš„ä½¿ç”¨å¯ä»¥ä½¿æ‚¨çš„ä»£ç æ›´å…·å¯è¯»æ€§ï¼Œå› ä¸ºå®ƒå…è®¸æ‚¨ç«‹å³çŸ¥é“å¸¸é‡æˆ–å˜é‡å¯ä»¥å­˜å‚¨çš„å€¼çš„ç±»åž‹ã€‚

## æ³¨é‡Š

æ‚¨å¯ä»¥ä½¿ç”¨å•è¡Œæ³¨é‡Šï¼ˆsingle-line commentsï¼‰å°†æ³¨é‡ŠåµŒå…¥åˆ°ä»£ç ä¸­ã€‚å•è¡Œæ³¨é‡Šä»¥ä¸¤ä¸ªæ­£æ–œæ ï¼ˆ//ï¼‰å¼€å¤´ï¼š

```swift
// This is a comment
```

æ‚¨å¯ä»¥ä½¿ç”¨å¤šè¡Œæ³¨é‡Šï¼ˆmulti-line commentsï¼‰å°†æ³¨é‡ŠåµŒå…¥åˆ°ä»£ç ä¸­ã€‚å¤šè¡Œæ³¨é‡Šä»¥æ­£æ–œæ åŽè·Ÿæ˜Ÿå·ï¼ˆ/*ï¼‰å¼€å¤´ï¼Œä»¥æ˜Ÿå·åŽè·Ÿæ­£æ–œæ ï¼ˆ*/ï¼‰ç»“å°¾ï¼š

```swift
/* This is also a comment
but is written over multiple lines. */
```

## åˆ†å·

Swiftä¸è¦æ±‚æ‚¨åœ¨æ¯ä¸ªè¯­å¥ç»“å°¾å¤„ä½¿ç”¨åˆ†å·ï¼ˆ;ï¼‰ï¼Œä½†æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨åˆ†å·å°†å¤šä¸ªç‹¬ç«‹çš„è¯­å¥å†™åœ¨åŒä¸€è¡Œä¸Šï¼š

```swift
let cat = "ðŸ±"; print(cat)
```

## æ•´æ•°

æ•´æ•°æ˜¯æ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ï¼Œä¾‹å¦‚42å’Œ-23ã€‚Swiftæä¾›äº†8ã€16ã€32å’Œ64ä½æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°ç±»åž‹ã€‚è¿™äº›æ•´æ•°ç±»åž‹çš„åç§°ä¸Žå®ƒä»¬çš„ä½æ•°ç›¸åŒï¼Œä¾‹å¦‚UInt8è¡¨ç¤º8ä½æ— ç¬¦å·æ•´æ•°ï¼ŒInt32è¡¨ç¤º32ä½æœ‰ç¬¦å·æ•´æ•°ã€‚

æ•´æ•°èŒƒå›´ï¼š

```swift
let minValue = UInt8.min
let maxValue = UInt8.max
```

## æµ®ç‚¹æ•°

æµ®ç‚¹æ•°æ˜¯æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ï¼Œä¾‹å¦‚3.14159ã€0.1å’Œ-273.15ã€‚Swiftæä¾›äº†ä¸¤ç§æœ‰ç¬¦å·çš„æµ®ç‚¹æ•°ç±»åž‹ï¼š

- Doubleè¡¨ç¤º64ä½æµ®ç‚¹æ•°ã€‚
- Floatè¡¨ç¤º32ä½æµ®ç‚¹æ•°ã€‚

å¦‚æžœæ‚¨éœ€è¦åœ¨æ‚¨çš„ä»£ç ä¸­é€‰æ‹©æµ®ç‚¹æ•°ç±»åž‹ï¼ŒæŽ¨èä½¿ç”¨Doubleç±»åž‹ï¼Œé™¤éžä½ ç‰¹åˆ«éœ€è¦å®ƒçš„æ€§èƒ½ã€‚

## ç±»åž‹å®‰å…¨å’Œç±»åž‹æŽ¨æ–­

Swiftæ˜¯ä¸€ç§ç±»åž‹å®‰å…¨ï¼ˆtype-safeï¼‰è¯­è¨€ã€‚ç±»åž‹å®‰å…¨è¯­è¨€å¯ä»¥è®©æ‚¨æ¸…æ¥šåœ°çŸ¥é“ä»£ç å¯ä»¥å¤„ç†çš„å€¼çš„ç±»åž‹ã€‚å¦‚æžœéƒ¨åˆ†ä»£ç æœŸæœ›å¾—åˆ°Stringï¼Œæ‚¨å°±ä¸èƒ½ä¼ é€’ä¸€ä¸ªIntæ¥ä»£æ›¿ã€‚

Swifté€šè¿‡ç±»åž‹æŽ¨æ–­ï¼ˆtype inferenceï¼‰æ¥é€‰æ‹©åˆé€‚çš„ç±»åž‹ã€‚å¦‚æžœæ‚¨æ²¡æœ‰æ˜Žç¡®æŒ‡å®šç±»åž‹ï¼ŒSwiftä½¿ç”¨ç±»åž‹æŽ¨æ–­æ¥é€‰æ‹©åˆé€‚çš„ç±»åž‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœæ‚¨ç»™ä¸€ä¸ªæ–°çš„æµ®ç‚¹å€¼èµ‹å€¼ï¼ŒSwiftä¼šæŽ¨æ–­æ‚¨æƒ³è¦åˆ›å»ºä¸€ä¸ªDoubleè€Œä¸æ˜¯Floatï¼š

```swift
let meaningOfLife = 42
// meaningOfLife is inferred to be of type Int
let pi = 3.14159
// pi is inferred to be of type Double
```

å¦‚æžœæ‚¨åœ¨ä¸€è¡Œä¸­å£°æ˜Žå¤šä¸ªåŒç±»åž‹çš„å€¼ï¼Œæ‚¨å¯ä»¥åœ¨ä¸€è¡Œä¸­å†™å‡ºæ‰€æœ‰å€¼ï¼Œç”¨é€—å·éš”å¼€ï¼ŒSwiftä¼šè‡ªåŠ¨æŽ¨æ–­å‡ºè¿™äº›å€¼çš„ç±»åž‹ï¼š

```swift
let x = 0.0, y = 0.0, z = 0.0
```

## æ•°å€¼åž‹å­—é¢é‡

æ•´æ•°å­—é¢é‡å¯ä»¥è¢«å†™ä½œï¼š

- ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œæ²¡æœ‰å‰ç¼€
- ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯0b
- ä¸€ä¸ªå…«è¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯0o
- ä¸€ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯0x

åè¿›åˆ¶æ•°çš„ä¾‹å­ï¼š

```swift
let decimalInteger = 17
let binaryInteger = 0b10001       // 17 in binary notation
let octalInteger = 0o21           // 17 in octal notation
let hexadecimalInteger = 0x11     // 17 in hexadecimal notation
```

æµ®ç‚¹å­—é¢é‡å¯ä»¥æ˜¯åè¿›åˆ¶ï¼ˆæ²¡æœ‰å‰ç¼€ï¼‰ï¼Œæˆ–è€…æ˜¯åå…­è¿›åˆ¶ï¼ˆå‰ç¼€æ˜¯0xï¼‰ã€‚åè¿›åˆ¶æµ®ç‚¹å­—é¢é‡è¿˜å¯ä»¥æœ‰ä¸€ä¸ªå¯é€‰çš„æŒ‡æ•°ï¼ˆexponentï¼‰ï¼Œé€šè¿‡å¤§å†™æˆ–å°å†™çš„eæ¥æŒ‡å®šã€‚åå…­è¿›åˆ¶æµ®ç‚¹å­—é¢é‡å¿…é¡»æœ‰ä¸€ä¸ªæŒ‡æ•°ï¼›æŒ‡æ•°é€šè¿‡å¤§å†™æˆ–å°å†™çš„pæ¥æŒ‡å®šã€‚åè¿›åˆ¶æµ®ç‚¹å­—é¢é‡çš„ä¾‹å­ï¼š

```swift
let decimalDouble = 12.1875
let exponentDouble = 1.21875e1
let hexadecimalDouble = 0xC.3p0
```

## æ•°å€¼åž‹ç±»åž‹è½¬æ¢

æ•´æ•°å’Œæµ®ç‚¹æ•°ç±»åž‹è½¬æ¢å¿…é¡»æ˜¾å¼æŒ‡å®šç±»åž‹ï¼š

```swift
let twoThousand: UInt16 = 2_000
let one: UInt8 = 1
let twoThousandAndOne = twoThousand + UInt16(one)
// twoThousandAndOne is equal to 2001
```

## ç±»åž‹åˆ«å

ç±»åž‹åˆ«åï¼ˆtype aliasesï¼‰å°±æ˜¯ç»™çŽ°æœ‰ç±»åž‹å®šä¹‰å¦ä¸€ä¸ªåå­—ã€‚ä½ å¯ä»¥ä½¿ç”¨typealiaså…³é”®å­—æ¥å®šä¹‰ç±»åž‹åˆ«åã€‚

```swift
typealias AudioSample = UInt16
var maxAmplitudeFound = AudioSample.min
// maxAmplitudeFound is now 0
```

## å¸ƒå°”å€¼

Swiftæœ‰ä¸€ä¸ªåŸºæœ¬çš„å¸ƒå°”ï¼ˆBooleanï¼‰ç±»åž‹ï¼Œå«åšBoolã€‚å¸ƒå°”å€¼æŒ‡é€»è¾‘ä¸Šçš„å€¼ï¼Œå› ä¸ºå®ƒä»¬åªèƒ½æ˜¯çœŸæˆ–è€…å‡ã€‚Swiftæä¾›ä¸¤ä¸ªå¸ƒå°”å¸¸é‡ï¼Œtrueå’Œfalseï¼š

```swift
let orangesAreOrange = true
let turnipsAreDelicious = false
```

## å…ƒç»„

å…ƒç»„ï¼ˆtuplesï¼‰æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼ã€‚å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»åž‹ï¼Œå¹¶ä¸è¦æ±‚æ˜¯ç›¸åŒç±»åž‹ã€‚

```swift
let http404Error = (404, "Not Found")
// http404Error is of type (Int, String), and equals (404, "Not Found")
```

å…ƒç»„çš„å†…å®¹å¯ä»¥åˆ†è§£ï¼ˆdecomposeï¼‰æˆå•ç‹¬çš„å¸¸é‡å’Œå˜é‡ï¼Œç„¶åŽä½ å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨å®ƒä»¬äº†ï¼š

```swift
let (statusCode, statusMessage) = http404Error
print("The status code is \(statusCode)")
// Prints "The status code is 404"
print("The status message is \(statusMessage)")
// Prints "The status message is Not Found"
```

å¦‚æžœä½ åªéœ€è¦ä¸€éƒ¨åˆ†å…ƒç»„å€¼ï¼Œåˆ†è§£çš„æ—¶å€™å¯ä»¥æŠŠè¦å¿½ç•¥çš„éƒ¨åˆ†ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰æ ‡è®°ï¼š

```swift
let (justTheStatusCode, _) = http404Error
print("The status code is \(justTheStatusCode)")
// Prints "The status code is 404"
```

ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®å…ƒç»„ä¸­çš„å•ä¸ªå…ƒç´ ï¼Œä¸‹æ ‡ä»Žé›¶å¼€å§‹ï¼š

```swift
print("The status code is \(http404Error.0)")
// Prints "The status code is 404"
print("The status message is \(http404Error.1)")
// Prints "The status message is Not Found"
```

ä½ å¯ä»¥åœ¨å®šä¹‰å…ƒç»„çš„æ—¶å€™ç»™å•ä¸ªå…ƒç´ å‘½åï¼š

```swift
let http200Status = (statusCode: 200, description: "OK")
```

è¿™ä¸ªå…ƒç»„çš„åå­—å«åšhttp200Statusï¼Œå®ƒçš„ç±»åž‹æ˜¯(Int, String)ã€‚ä½ å¯ä»¥é€šè¿‡åå­—æ¥èŽ·å–å…ƒç´ çš„å€¼ï¼š

```swift
print("The status code is \(http200Status.statusCode)")
// Prints "The status code is 200"
print("The status message is \(http200Status.description)")
// Prints "The status message is OK"
```

## å¯é€‰ç±»åž‹

Swiftçš„å¯é€‰ç±»åž‹ï¼ˆoptional typesï¼‰è¡¨ç¤ºï¼š

* è¿™ä¸ªå€¼å¯èƒ½æœ‰å€¼ï¼Œç­‰äºŽx
* è¿™ä¸ªå€¼å¯èƒ½æ²¡æœ‰å€¼

å¯é€‰ç±»åž‹æœ‰ç‚¹åƒObjective-Cä¸­çš„nilæŒ‡é’ˆï¼Œä½†æ˜¯å®ƒä»¬å¯ä»¥ç”¨äºŽä»»ä½•ç±»åž‹ï¼Œä¸ä»…ä»…æ˜¯ç±»ã€‚å¯é€‰ç±»åž‹è¡¨ç¤ºçš„æ˜¯å€¼ç¼ºå¤±ï¼Œè€Œä¸æ˜¯å€¼ä¸ºnilã€‚è¿™æ ·çš„è®¾è®¡å¯ä»¥è®©ä½ é¿å…åœ¨ä½ çš„ä»£ç ä¸­ä½¿ç”¨nilå€¼ã€‚


## å¯é€‰ç»‘å®š

å¯é€‰ç»‘å®šï¼ˆoptional bindingï¼‰ç”¨æ¥åˆ¤æ–­å¯é€‰ç±»åž‹æ˜¯å¦åŒ…å«å€¼ï¼Œå¦‚æžœåŒ…å«å°±æŠŠå€¼èµ‹ç»™ä¸€ä¸ªä¸´æ—¶å¸¸é‡æˆ–å˜é‡ã€‚å¯é€‰ç»‘å®šå¯ä»¥ç”¨åœ¨ifå’Œwhileè¯­å¥ä¸­æ¥å¯¹å¯é€‰ç±»åž‹çš„å€¼è¿›è¡Œåˆ¤æ–­å¹¶æŠŠå€¼èµ‹ç»™ä¸€ä¸ªå¸¸é‡æˆ–å˜é‡ã€‚

```swift
if let constantName = someOptional {
    statements
}
```

## éšå¼è§£æžå¯é€‰ç±»åž‹

æœ‰æ—¶å€™åœ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä¼šç¡®å®šä¸€ä¸ªå¯é€‰ç±»åž‹å˜é‡æ€»ä¼šæœ‰å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯æ¬¡éƒ½éœ€è¦åˆ¤æ–­å’Œè§£æžå¯é€‰å€¼æ˜¯éžå¸¸éº»çƒ¦çš„ã€‚è¿™æ—¶å€™å¯ä»¥é€‰æ‹©éšå¼è§£æžå¯é€‰ç±»åž‹ï¼ˆimplicitly unwrapped optionalsï¼‰ã€‚

```swift
let possibleString: String? = "An optional string."
let forcedString: String = possibleString! // requires an exclamation point

let assumedString: String! = "An implicitly unwrapped optional string."
let implicitString: String = assumedString // no need for an exclamation point
```

## é”™è¯¯å¤„ç†

Swiftæä¾›äº†ä¸€ç§åœ¨è¿è¡Œæ—¶è¡¨ç¤ºå’ŒæŠ›å‡ºé”™è¯¯çš„æœºåˆ¶ã€‚è¿™ä¸ªæœºåˆ¶è®©ä½ èƒ½å¤Ÿè¡¨ç¤ºå’ŒæŠ›å‡ºä½ è‡ªå·±çš„é”™è¯¯ï¼Œå¹¶ä¸”æŠŠå‡½æ•°æŠ›å‡ºçš„é”™è¯¯ä¼ é€’åˆ°ç¨‹åºçš„æŸä¸ªåœ°æ–¹ã€‚

```swift
enum VendingMachineError: ErrorType {
    case InvalidSelection
    case InsufficientFunds(coinsNeeded: Int)
    case OutOfStock
}

throw VendingMachineError.InsufficientFunds(coinsNeeded: 5)
```

## æ–­è¨€å’Œå…ˆå†³æ¡ä»¶

æ–­è¨€å’Œå…ˆå†³æ¡ä»¶ç”¨æ¥æ£€æŸ¥åœ¨è¿è¡Œæ—¶ä¸€ä¸ªå¿…è¦çš„æ¡ä»¶æ˜¯å¦ä¸ºçœŸã€‚å¦‚æžœæ¡ä»¶åˆ¤æ–­çš„ç»“æžœä¸ºtrueï¼Œä»£ç ç»§ç»­è¿è¡Œã€‚å¦‚æžœæ¡ä»¶åˆ¤æ–­çš„ç»“æžœä¸ºfalseï¼Œä»£ç æ‰§è¡Œç»“æŸï¼Œä½ çš„åº”ç”¨è¢«ç»ˆæ­¢ã€‚

```swift
let age = -3
assert(age >= 0, "A person's age cannot be less than zero")
// This assertion fails because -3 is not >= 0.

if age > 10 {
    print("You can ride the roller-coaster or the ferris wheel.")
} else if age >= 0 {
    print("You can ride the ferris wheel.")
} else {
    assertionFailure("A person's age can't be less than zero.")
}
// Prints "You can ride the ferris wheel."
```


