---
type: 'Post'
date: '2022-08-18 11:00:59'
title: 'Chromeæ’ä»¶å¼€å‘ - ç¬¬ä¸€ä¸ªæ’ä»¶'
tags: [chrome]
description: åŸºäºreactã€tailwindcsså¼€å‘è‡ªå·±çš„chromeæ’ä»¶
cover: https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/aSYEyn.jpg
---

è¿™ç¯‡æ–‡ç« å­¦ä¹ åˆ›å»ºä¸€ä¸ªæ’ä»¶ç”¨äºæ”¹å˜æ¯ä¸ªé¡µé¢çš„èƒŒæ™¯è‰²

![aSYEyn](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/aSYEyn.jpg)

## åˆ›å»ºæ’ä»¶ä¸»ä½“

æµè§ˆå™¨æ’ä»¶çš„æ ¸å¿ƒæ–‡ä»¶ä¸”å¿…ä¸å¯å°‘çš„ï¼šmanifestï¼Œå®ƒæ˜¯ä¸ª`json`æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰å’Œæ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œå¿…é¡»æ”¾åœ¨æ ¹ç›®å½•ï¼Œå…¶ä¸­`manifest_version`ã€`name`ã€`version`æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œ`description`ã€`icons`æ˜¯æ¨èçš„

ä»¥ä¸‹æ˜¯ä¸€äº›æ’ä»¶çš„é…ç½®é¡¹ï¼Œä¾›å‚è€ƒï¼š

```json
{
  // æ¸…å•æ–‡ä»¶çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªå¿…é¡»å†™ï¼Œè€Œä¸”å¿…é¡»æ˜¯2
  "manifest_version": 2,
  // æ’ä»¶çš„åç§°
  "name": "demo",
  // æ’ä»¶çš„ç‰ˆæœ¬
  "version": "1.0.0",
  // æ’ä»¶æè¿°
  "description": "ç®€å•çš„Chromeæ‰©å±•demo",
  // å›¾æ ‡ï¼Œä¸€èˆ¬å·æ‡’å…¨éƒ¨ç”¨ä¸€ä¸ªå°ºå¯¸çš„ä¹Ÿæ²¡é—®é¢˜
  "icons": {
    "16": "img/icon.png",
    "48": "img/icon.png",
    "128": "img/icon.png"
  },
  // ä¼šä¸€ç›´å¸¸é©»çš„åå°JSæˆ–åå°é¡µé¢
  "background": {
    // 2ç§æŒ‡å®šæ–¹å¼ï¼Œå¦‚æœæŒ‡å®šJSï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªèƒŒæ™¯é¡µ
    "page": "background.html"
    //"scripts": ["js/background.js"]
  },
  // æµè§ˆå™¨å³ä¸Šè§’å›¾æ ‡è®¾ç½®ï¼Œbrowser_actionã€page_actionã€appå¿…é¡»ä¸‰é€‰ä¸€
  "browser_action": {
    "default_icon": "img/icon.png",
    // å›¾æ ‡æ‚¬åœæ—¶çš„æ ‡é¢˜ï¼Œå¯é€‰
    "default_title": "è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹Chromeæ’ä»¶",
    "default_popup": "popup.html"
  },
  // å½“æŸäº›ç‰¹å®šé¡µé¢æ‰“å¼€æ‰æ˜¾ç¤ºçš„å›¾æ ‡
  /*"page_action":
 {
 "default_icon": "img/icon.png",
 "default_title": "æˆ‘æ˜¯pageAction",
 "default_popup": "popup.html"
 },*/
  // éœ€è¦ç›´æ¥æ³¨å…¥é¡µé¢çš„JS
  "content_scripts": [
    {
      //"matches": ["http://*/*", "https://*/*"],
      // "<all_urls>" è¡¨ç¤ºåŒ¹é…æ‰€æœ‰åœ°å€
      "matches": ["<all_urls>"],
      // å¤šä¸ªJSæŒ‰é¡ºåºæ³¨å…¥
      "js": ["js/jquery-1.8.3.js", "js/content-script.js"],
      // JSçš„æ³¨å…¥å¯ä»¥éšä¾¿ä¸€ç‚¹ï¼Œä½†æ˜¯CSSçš„æ³¨æ„å°±è¦åƒä¸‡å°å¿ƒäº†ï¼Œå› ä¸ºä¸€ä¸å°å¿ƒå°±å¯èƒ½å½±å“å…¨å±€æ ·å¼
      "css": ["css/custom.css"],
      // ä»£ç æ³¨å…¥çš„æ—¶é—´ï¼Œå¯é€‰å€¼ï¼š "document_start", "document_end", or "document_idle"ï¼Œæœ€åä¸€ä¸ªè¡¨ç¤ºé¡µé¢ç©ºé—²æ—¶ï¼Œé»˜è®¤document_idle
      "run_at": "document_start"
    },
    // è¿™é‡Œä»…ä»…æ˜¯ä¸ºäº†æ¼”ç¤ºcontent-scriptå¯ä»¥é…ç½®å¤šä¸ªè§„åˆ™
    {
      "matches": ["*://*/*.png", "*://*/*.jpg", "*://*/*.gif", "*://*/*.bmp"],
      "js": ["js/show-image-content-size.js"]
    }
  ],
  // æƒé™ç”³è¯·
  "permissions": [
    "contextMenus", // å³é”®èœå•
    "tabs", // æ ‡ç­¾
    "notifications", // é€šçŸ¥
    "webRequest", // webè¯·æ±‚
    "webRequestBlocking",
    "storage", // æ’ä»¶æœ¬åœ°å­˜å‚¨
    "http://*/*", // å¯ä»¥é€šè¿‡executeScriptæˆ–è€…insertCSSè®¿é—®çš„ç½‘ç«™
    "https://*/*" // å¯ä»¥é€šè¿‡executeScriptæˆ–è€…insertCSSè®¿é—®çš„ç½‘ç«™
  ],
  // æ™®é€šé¡µé¢èƒ½å¤Ÿç›´æ¥è®¿é—®çš„æ’ä»¶èµ„æºåˆ—è¡¨ï¼Œå¦‚æœä¸è®¾ç½®æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„
  "web_accessible_resources": ["js/inject.js"],
  // æ’ä»¶ä¸»é¡µï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œä¸è¦æµªè´¹äº†è¿™ä¸ªå…è´¹å¹¿å‘Šä½
  "homepage_url": "https://www.baidu.com",
  // è¦†ç›–æµè§ˆå™¨é»˜è®¤é¡µé¢
  "chrome_url_overrides": {
    // è¦†ç›–æµè§ˆå™¨é»˜è®¤çš„æ–°æ ‡ç­¾é¡µ
    "newtab": "newtab.html"
  },
  // Chrome40ä»¥å‰çš„æ’ä»¶é…ç½®é¡µå†™æ³•
  "options_page": "options.html",
  // Chrome40ä»¥åçš„æ’ä»¶é…ç½®é¡µå†™æ³•ï¼Œå¦‚æœ2ä¸ªéƒ½å†™ï¼Œæ–°ç‰ˆChromeåªè®¤åé¢è¿™ä¸€ä¸ª
  "options_ui": {
    "page": "options.html",
    // æ·»åŠ ä¸€äº›é»˜è®¤çš„æ ·å¼ï¼Œæ¨èä½¿ç”¨
    "chrome_style": true
  },
  // å‘åœ°å€æ æ³¨å†Œä¸€ä¸ªå…³é”®å­—ä»¥æä¾›æœç´¢å»ºè®®ï¼Œåªèƒ½è®¾ç½®ä¸€ä¸ªå…³é”®å­—
  "omnibox": {"keyword": "go"},
  // é»˜è®¤è¯­è¨€
  "default_locale": "zh_CN",
  // devtoolsé¡µé¢å…¥å£ï¼Œæ³¨æ„åªèƒ½æŒ‡å‘ä¸€ä¸ªHTMLæ–‡ä»¶ï¼Œä¸èƒ½æ˜¯JSæ–‡ä»¶
  "devtools_page": "devtools.html"
}
```

ç°åœ¨è®©æˆ‘ä»¬æ¥åˆ›å»ºæ’ä»¶çš„ä¸»ä½“æ¡†æ¶

1.åˆ›å»ºç›®å½•

```bash
mkdir pinkify-extension && cd pinkify-extension
```

2.åˆ›å»º`manifest.json`

å†™å…¥ä¸€äº›é…ç½®

```json
{
  "manifest_version": 3,
  "name": "Pinkify",
  "version": "1.0",
  "description": "Convert any page to a pinkish page ğŸ’–",
  "icons": {
    "48": "icons/pinkify-48.png"
  },
  "content_scripts": [
    {
      "matches": ["<all_urls>"],
      "js": ["pinkify.js"]
    }
  ]
}
```

3.åˆ›å»º`pinkify.js`

```
document.body.style.setProperty('background','#FDF2F7')
```

4.æµ‹è¯•æ‰©å±•

æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºï¼Œé€‰æ‹©`pinkify-extension`ç›®å½•å³å¯ã€‚

![FwLxRT](https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/FwLxRT.jpg)
