---
type: 'Post'
date: '2022-09-02 10:32:23'
title: 'Chromeæ’ä»¶å¼€å‘ - Popup page modifications'
tags: [chrome]
description: åŸºäºreactã€tailwindcsså¼€å‘è‡ªå·±çš„chromeæ’ä»¶
---

é€šè¿‡æ’ä»¶ä¿®æ”¹ç½‘é¡µ

å½“ç‚¹å‡»æ‰©å±•é€‰é¡¹çš„æ—¶å€™ï¼Œç½‘é¡µé¢œè‰²è·Ÿç€æ”¹å˜

<video
  src="https://cdn.jsdelivr.net/gh/manonicu/pics@master/uPic/modify-page_rux0n9.webm"
  autoPlay
/>

ä¿®æ”¹`manifest.json`

```json diff
{
  "permissions": [
    "alarms",
    "notifications",
    "storage",
    + "activeTab",
    + "scripting"
  ]
}
```

æ–°å¢æƒé™è§£é‡Š

- `activeTab`å…è®¸ä¿®æ”¹å’Œæ£€ç´¢æ´»åŠ¨æ ‡ç­¾
- `scripting`å…è®¸å‘æµè§ˆå™¨æ³¨å…¥è„šæœ¬

ä¿®æ”¹`src/App.jsx`ï¼Œå‘å¼¹çª—é¡µé¢å¢åŠ æŒ‰é’®

```jsx
import React from 'react'

export default function Colorize() {
  const colorize = async () => {
    const [tab] = await chrome.tabs.query({active: true, currentWindow: true})
    chrome.scripting.executeScript({
      target: {tabId: tab.id},
      function: changeColor
    })
  }

  const changeColor = () => {
    chrome.storage.sync.get('color', ({color}) => {
      document.body.style.backgroundColor = color
    })
  }

  return <button onClick={colorize}>Colorize ğŸ’–</button>
}
```

## Source Code

[ã€Source Codeã€‘](https://github.com/rebelchris/popup-extension/tree/page-modifications)
